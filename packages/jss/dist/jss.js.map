{"version":3,"file":"jss.js","sources":["../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/is-in-browser/dist/module.js","../node_modules/tiny-warning/dist/tiny-warning.esm.js","../src/utils/cloneStyle.js","../src/utils/createRule.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../src/utils/toCssValue.js","../src/utils/toCss.js","../src/utils/escape.js","../src/plugins/styleRule.js","../src/plugins/conditionalRule.js","../src/plugins/keyframesRule.js","../src/plugins/keyframeRule.js","../src/plugins/fontFaceRule.js","../src/plugins/viewportRule.js","../src/plugins/simpleRule.js","../src/plugins/index.js","../src/RuleList.js","../src/StyleSheet.js","../src/PluginsRegistry.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../src/SheetsRegistry.js","../src/sheets.js","../src/utils/globalThis.js","../src/utils/moduleId.js","../src/utils/createGenerateId.js","../src/DomRenderer.js","../src/Jss.js","../src/utils/getDynamicStyles.js","../src/SheetsManager.js","../src/index.js"],"sourcesContent":["export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexport var isBrowser = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && document.nodeType === 9;\n\nexport default isBrowser;\n","var isProduction = process.env.NODE_ENV === 'production';\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;\n","import type {JssStyle} from '../types'\n\nconst plainObjectConstrurctor = {}.constructor\n\nexport default function cloneStyle(style: JssStyle): JssStyle {\n  if (style == null || typeof style !== 'object') return style\n  if (Array.isArray(style)) return style.map(cloneStyle)\n  if (style.constructor !== plainObjectConstrurctor) return style\n\n  const newStyle = {}\n  for (const name in style) {\n    newStyle[name] = cloneStyle(style[name])\n  }\n  return newStyle\n}\n","/* @flow */\nimport warning from 'tiny-warning'\nimport type {Rule, RuleOptions, JssStyle} from '../types'\nimport cloneStyle from './cloneStyle'\n\n/**\n * Create a rule instance.\n */\nexport default function createRule(\n  name: string = 'unnamed',\n  decl: JssStyle,\n  options: RuleOptions\n): Rule | null {\n  const {jss} = options\n  const declCopy = cloneStyle(decl)\n\n  const rule = jss.plugins.onCreateRule(name, declCopy, options)\n  if (rule) return rule\n\n  // It is an at-rule and it has no instance.\n  if (name[0] === '@') {\n    warning(false, `[JSS] Unknown rule ${name}`)\n  }\n\n  return null\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","/* @flow */\n\nconst join = (value, by) => {\n  let result = ''\n  for (let i = 0; i < value.length; i++) {\n    // Remove !important from the value, it will be readded later.\n    if (value[i] === '!important') break\n    if (result) result += by\n    result += value[i]\n  }\n  return result\n}\n\n/**\n * Converts array values to string.\n *\n * `margin: [['5px', '10px']]` > `margin: 5px 10px;`\n * `border: ['1px', '2px']` > `border: 1px, 2px;`\n * `margin: [['5px', '10px'], '!important']` > `margin: 5px 10px !important;`\n * `color: ['red', !important]` > `color: red !important;`\n */\nexport default function toCssValue(value: any, ignoreImportant: boolean = false) {\n  if (!Array.isArray(value)) return value\n\n  let cssValue = ''\n\n  // Support space separated values via `[['5px', '10px']]`.\n  if (Array.isArray(value[0])) {\n    for (let i = 0; i < value.length; i++) {\n      if (value[i] === '!important') break\n      if (cssValue) cssValue += ', '\n      cssValue += join(value[i], ' ')\n    }\n  } else cssValue = join(value, ', ')\n\n  // Add !important, because it was ignored.\n  if (!ignoreImportant && value[value.length - 1] === '!important') {\n    cssValue += ' !important'\n  }\n\n  return cssValue\n}\n","/* @flow */\nimport toCssValue from './toCssValue'\nimport type {ToCssOptions, JssStyle} from '../types'\n\n/**\n * Indent a string.\n * http://jsperf.com/array-join-vs-for\n */\nfunction indentStr(str: string, indent: number): string {\n  let result = ''\n  for (let index = 0; index < indent; index++) result += '  '\n  return result + str\n}\n\n/**\n * Converts a Rule to CSS string.\n */\nexport default function toCss(\n  selector?: string,\n  style: JssStyle,\n  options: ToCssOptions = {}\n): string {\n  let result = ''\n\n  if (!style) return result\n\n  let {indent = 0} = options\n  const {fallbacks} = style\n\n  if (selector) indent++\n\n  // Apply fallbacks first.\n  if (fallbacks) {\n    // Array syntax {fallbacks: [{prop: value}]}\n    if (Array.isArray(fallbacks)) {\n      for (let index = 0; index < fallbacks.length; index++) {\n        const fallback = fallbacks[index]\n        for (const prop in fallback) {\n          const value = fallback[prop]\n          if (value != null) {\n            if (result) result += '\\n'\n            result += `${indentStr(`${prop}: ${toCssValue(value)};`, indent)}`\n          }\n        }\n      }\n    } else {\n      // Object syntax {fallbacks: {prop: value}}\n      for (const prop in fallbacks) {\n        const value = fallbacks[prop]\n        if (value != null) {\n          if (result) result += '\\n'\n          result += `${indentStr(`${prop}: ${toCssValue(value)};`, indent)}`\n        }\n      }\n    }\n  }\n\n  for (const prop in style) {\n    const value = style[prop]\n    if (value != null && prop !== 'fallbacks') {\n      if (result) result += '\\n'\n      result += `${indentStr(`${prop}: ${toCssValue(value)};`, indent)}`\n    }\n  }\n\n  // Allow empty style in this case, because properties will be added dynamically.\n  if (!result && !options.allowEmpty) return result\n\n  // When rule is being stringified before selector was defined.\n  if (!selector) return result\n\n  indent--\n\n  if (result) result = `\\n${result}\\n`\n\n  return indentStr(`${selector} {${result}`, indent) + indentStr('}', indent)\n}\n","const escapeRegex = /([[\\].#*$><+~=|^:(),\"'`\\s])/g\nconst nativeEscape = typeof CSS !== 'undefined' && CSS.escape\n\nexport default str => (nativeEscape ? nativeEscape(str) : str.replace(escapeRegex, '\\\\$1'))\n","/* @flow */\nimport warning from 'tiny-warning'\nimport toCss from '../utils/toCss'\nimport toCssValue from '../utils/toCssValue'\nimport escape from '../utils/escape'\nimport type {\n  CSSStyleRule,\n  HTMLElementWithStyleMap,\n  ToCssOptions,\n  RuleOptions,\n  UpdateOptions,\n  Renderer as RendererInterface,\n  JssStyle,\n  JssValue,\n  BaseRule\n} from '../types'\n\nexport class BaseStyleRule implements BaseRule {\n  type = 'style'\n\n  key: string\n\n  isProcessed: boolean = false\n\n  style: JssStyle\n\n  renderer: RendererInterface | null\n\n  renderable: ?Object\n\n  options: RuleOptions\n\n  constructor(key: string, style: JssStyle, options: RuleOptions) {\n    const {sheet, Renderer} = options\n    this.key = key\n    this.options = options\n    this.style = style\n    if (sheet) this.renderer = sheet.renderer\n    else if (Renderer) this.renderer = new Renderer()\n  }\n\n  /**\n   * Get or set a style property.\n   */\n  prop(name: string, value?: JssValue, options?: UpdateOptions): this | string {\n    // It's a getter.\n    if (value === undefined) return this.style[name]\n\n    // Don't do anything if the value has not changed.\n    const force = options ? options.force : false\n    if (!force && this.style[name] === value) return this\n\n    let newValue = value\n    if (!options || options.process !== false) {\n      newValue = this.options.jss.plugins.onChangeValue(value, name, this)\n    }\n\n    const isEmpty = newValue == null || newValue === false\n    const isDefined = name in this.style\n\n    // Value is empty and wasn't defined before.\n    if (isEmpty && !isDefined && !force) return this\n\n    // We are going to remove this value.\n    const remove = isEmpty && isDefined\n\n    if (remove) delete this.style[name]\n    else this.style[name] = newValue\n\n    // Renderable is defined if StyleSheet option `link` is true.\n    if (this.renderable && this.renderer) {\n      if (remove) this.renderer.removeProperty(this.renderable, name)\n      else this.renderer.setProperty(this.renderable, name, newValue)\n      return this\n    }\n\n    const {sheet} = this.options\n    if (sheet && sheet.attached) {\n      warning(false, '[JSS] Rule is not linked. Missing sheet option \"link: true\".')\n    }\n    return this\n  }\n}\n\nexport class StyleRule extends BaseStyleRule {\n  selectorText: string\n\n  id: ?string\n\n  renderable: ?CSSStyleRule\n\n  constructor(key: string, style: JssStyle, options: RuleOptions) {\n    super(key, style, options)\n    const {selector, scoped, sheet, generateId} = options\n    if (selector) {\n      this.selectorText = selector\n    } else if (scoped !== false) {\n      this.id = generateId(this, sheet)\n      this.selectorText = `.${escape(this.id)}`\n    }\n  }\n\n  /**\n   * Set selector string.\n   * Attention: use this with caution. Most browsers didn't implement\n   * selectorText setter, so this may result in rerendering of entire Style Sheet.\n   */\n  set selector(selector: string): void {\n    if (selector === this.selectorText) return\n\n    this.selectorText = selector\n\n    const {renderer, renderable} = this\n\n    if (!renderable || !renderer) return\n\n    const hasChanged = renderer.setSelector(renderable, selector)\n\n    // If selector setter is not implemented, rerender the rule.\n    if (!hasChanged) {\n      renderer.replaceRule(renderable, this)\n    }\n  }\n\n  /**\n   * Get selector string.\n   */\n  get selector(): string {\n    return this.selectorText\n  }\n\n  /**\n   * Apply rule to an element inline.\n   */\n  applyTo(renderable: HTMLElementWithStyleMap): this {\n    const {renderer} = this\n    if (renderer) {\n      const json = this.toJSON()\n      for (const prop in json) {\n        renderer.setProperty(renderable, prop, json[prop])\n      }\n    }\n    return this\n  }\n\n  /**\n   * Returns JSON representation of the rule.\n   * Fallbacks are not supported.\n   * Useful for inline styles.\n   */\n  toJSON(): Object {\n    const json = {}\n    for (const prop in this.style) {\n      const value = this.style[prop]\n      if (typeof value !== 'object') json[prop] = value\n      else if (Array.isArray(value)) json[prop] = toCssValue(value)\n    }\n    return json\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n  toString(options?: ToCssOptions): string {\n    const {sheet} = this.options\n    const link = sheet ? sheet.options.link : false\n    const opts = link ? {...options, allowEmpty: true} : options\n    return toCss(this.selectorText, this.style, opts)\n  }\n}\n\nexport default {\n  onCreateRule(name: string, style: JssStyle, options: RuleOptions): StyleRule | null {\n    if (name[0] === '@' || (options.parent && options.parent.type === 'keyframes')) {\n      return null\n    }\n    return new StyleRule(name, style, options)\n  }\n}\n","/* @flow */\nimport RuleList from '../RuleList'\nimport type {CSSMediaRule, Rule, RuleOptions, ToCssOptions, JssStyle, ContainerRule} from '../types'\n\nconst defaultToStringOptions = {\n  indent: 1,\n  children: true\n}\n\nconst atRegExp = /@([\\w-]+)/\n\n/**\n * Conditional rule for @media, @supports\n */\nexport class ConditionalRule implements ContainerRule {\n  type = 'conditional'\n\n  at: string\n\n  key: string\n\n  query: string\n\n  rules: RuleList\n\n  options: RuleOptions\n\n  isProcessed: boolean = false\n\n  renderable: ?CSSMediaRule\n\n  constructor(key: string, styles: Object, options: RuleOptions) {\n    this.key = key\n    // Key might contain a unique suffix in case the `name` passed by user was duplicate.\n    this.query = options.name\n    const atMatch = key.match(atRegExp)\n    this.at = atMatch ? atMatch[1] : 'unknown'\n    this.options = options\n    this.rules = new RuleList({...options, parent: this})\n\n    for (const name in styles) {\n      this.rules.add(name, styles[name])\n    }\n\n    this.rules.process()\n  }\n\n  /**\n   * Get a rule.\n   */\n  getRule(name: string): Rule {\n    return this.rules.get(name)\n  }\n\n  /**\n   * Get index of a rule.\n   */\n  indexOf(rule: Rule): number {\n    return this.rules.indexOf(rule)\n  }\n\n  /**\n   * Create and register rule, run plugins.\n   */\n  addOrReplaceRule(\n    name: string,\n    style: JssStyle,\n    isReplace: boolean,\n    options?: RuleOptions\n  ): Rule | null {\n    const rule = isReplace\n      ? this.rules.replace(name, style, options)\n      : this.rules.add(name, style, options)\n    if (!rule) return null\n    this.options.jss.plugins.onProcessRule(rule)\n    return rule\n  }\n\n  addRule(name: string, style: JssStyle, options?: RuleOptions): Rule | null {\n    return this.addOrReplaceRule(name, style, false, options)\n  }\n\n  /**\n   * See issue https://github.com/cssinjs/jss/issues/1360\n   */\n  replaceRule(name: string, style: JssStyle, options?: RuleOptions): Rule | null {\n    return this.addOrReplaceRule(name, style, true, options)\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n  toString(options?: ToCssOptions = defaultToStringOptions): string {\n    if (options.indent == null) options.indent = defaultToStringOptions.indent\n    if (options.children == null) options.children = defaultToStringOptions.children\n    if (options.children === false) {\n      return `${this.query} {}`\n    }\n    const children = this.rules.toString(options)\n    return children ? `${this.query} {\\n${children}\\n}` : ''\n  }\n}\n\nconst keyRegExp = /@media|@supports\\s+/\n\nexport default {\n  onCreateRule(key: string, styles: JssStyle, options: RuleOptions): ConditionalRule | null {\n    return keyRegExp.test(key) ? new ConditionalRule(key, styles, options) : null\n  }\n}\n","/* @flow */\nimport warning from 'tiny-warning'\nimport RuleList from '../RuleList'\nimport type {\n  CSSKeyframesRule,\n  JssStyle,\n  RuleOptions,\n  ToCssOptions,\n  ContainerRule,\n  KeyframesMap,\n  Plugin\n} from '../types'\nimport escape from '../utils/escape'\n\nconst defaultToStringOptions = {\n  indent: 1,\n  children: true\n}\n\nconst nameRegExp = /@keyframes\\s+([\\w-]+)/\n\n/**\n * Rule for @keyframes\n */\nexport class KeyframesRule implements ContainerRule {\n  type = 'keyframes'\n\n  at: string = '@keyframes'\n\n  key: string\n\n  name: string\n\n  id: string\n\n  rules: RuleList\n\n  options: RuleOptions\n\n  isProcessed: boolean = false\n\n  renderable: ?CSSKeyframesRule\n\n  constructor(key: string, frames: Object, options: RuleOptions) {\n    const nameMatch = key.match(nameRegExp)\n    if (nameMatch && nameMatch[1]) {\n      this.name = nameMatch[1]\n    } else {\n      this.name = 'noname'\n      warning(false, `[JSS] Bad keyframes name ${key}`)\n    }\n    this.key = `${this.type}-${this.name}`\n    this.options = options\n    const {scoped, sheet, generateId} = options\n    this.id = scoped === false ? this.name : escape(generateId(this, sheet))\n    this.rules = new RuleList({...options, parent: this})\n\n    for (const name in frames) {\n      this.rules.add(name, frames[name], {\n        ...options,\n        parent: this\n      })\n    }\n\n    this.rules.process()\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n  toString(options?: ToCssOptions = defaultToStringOptions): string {\n    if (options.indent == null) options.indent = defaultToStringOptions.indent\n    if (options.children == null) options.children = defaultToStringOptions.children\n    if (options.children === false) {\n      return `${this.at} ${this.id} {}`\n    }\n    let children = this.rules.toString(options)\n    if (children) children = `\\n${children}\\n`\n    return `${this.at} ${this.id} {${children}}`\n  }\n}\n\nconst keyRegExp = /@keyframes\\s+/\n\nconst refRegExp = /\\$([\\w-]+)/g\n\nconst findReferencedKeyframe = (val, keyframes) => {\n  if (typeof val === 'string') {\n    return val.replace(refRegExp, (match, name) => {\n      if (name in keyframes) {\n        return keyframes[name]\n      }\n\n      warning(false, `[JSS] Referenced keyframes rule \"${name}\" is not defined.`)\n\n      return match\n    })\n  }\n\n  return val\n}\n\n/**\n * Replace the reference for a animation name.\n */\nconst replaceRef = (style: JssStyle, prop: string, keyframes: KeyframesMap) => {\n  const value = style[prop]\n  const refKeyframe = findReferencedKeyframe(value, keyframes)\n\n  if (refKeyframe !== value) {\n    style[prop] = refKeyframe\n  }\n}\n\nconst plugin: Plugin = {\n  onCreateRule(key, frames, options) {\n    return typeof key === 'string' && keyRegExp.test(key)\n      ? new KeyframesRule(key, frames, options)\n      : null\n  },\n\n  // Animation name ref replacer.\n  onProcessStyle: (style, rule, sheet) => {\n    if (rule.type !== 'style' || !sheet) return style\n\n    if ('animation-name' in style) replaceRef(style, 'animation-name', sheet.keyframes)\n    if ('animation' in style) replaceRef(style, 'animation', sheet.keyframes)\n    return style\n  },\n\n  onChangeValue(val, prop, rule) {\n    const {sheet} = rule.options\n\n    if (!sheet) {\n      return val\n    }\n\n    switch (prop) {\n      case 'animation':\n        return findReferencedKeyframe(val, sheet.keyframes)\n      case 'animation-name':\n        return findReferencedKeyframe(val, sheet.keyframes)\n      default:\n        return val\n    }\n  }\n}\n\nexport default plugin\n","/* @flow */\nimport toCss from '../utils/toCss'\nimport type {JssStyle, RuleOptions, ToCssOptions, CSSKeyframeRule} from '../types'\nimport {BaseStyleRule} from './styleRule'\n\nexport class KeyframeRule extends BaseStyleRule {\n  renderable: ?CSSKeyframeRule\n\n  /**\n   * Generates a CSS string.\n   */\n  toString(options?: ToCssOptions): string {\n    const {sheet} = this.options\n    const link = sheet ? sheet.options.link : false\n    const opts = link ? {...options, allowEmpty: true} : options\n    return toCss(this.key, this.style, opts)\n  }\n}\n\nexport default {\n  onCreateRule(key: string, style: JssStyle, options: RuleOptions): KeyframeRule | null {\n    if (options.parent && options.parent.type === 'keyframes') {\n      return new KeyframeRule(key, style, options)\n    }\n    return null\n  }\n}\n","/* @flow */\nimport toCss from '../utils/toCss'\nimport type {CSSFontFaceRule, RuleOptions, JssStyle, ToCssOptions, BaseRule} from '../types'\n\nexport class FontFaceRule implements BaseRule {\n  type = 'font-face'\n\n  at: string = '@font-face'\n\n  key: string\n\n  style: JssStyle\n\n  options: RuleOptions\n\n  isProcessed: boolean = false\n\n  renderable: ?CSSFontFaceRule\n\n  constructor(key: string, style: JssStyle, options: RuleOptions) {\n    this.key = key\n    this.style = style\n    this.options = options\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n  toString(options?: ToCssOptions): string {\n    if (Array.isArray(this.style)) {\n      let str = ''\n      for (let index = 0; index < this.style.length; index++) {\n        str += toCss(this.at, this.style[index])\n        if (this.style[index + 1]) str += '\\n'\n      }\n      return str\n    }\n\n    return toCss(this.at, this.style, options)\n  }\n}\n\nconst keyRegExp = /@font-face/\n\nexport default {\n  onCreateRule(key: string, style: JssStyle, options: RuleOptions): FontFaceRule | null {\n    return keyRegExp.test(key) ? new FontFaceRule(key, style, options) : null\n  }\n}\n","/* @flow */\nimport toCss from '../utils/toCss'\nimport type {CSSViewportRule, RuleOptions, JssStyle, ToCssOptions, BaseRule} from '../types'\n\nexport class ViewportRule implements BaseRule {\n  type = 'viewport'\n\n  at: string = '@viewport'\n\n  key: string\n\n  style: JssStyle\n\n  options: RuleOptions\n\n  isProcessed: boolean = false\n\n  renderable: ?CSSViewportRule\n\n  constructor(key: string, style: JssStyle, options: RuleOptions) {\n    this.key = key\n    this.style = style\n    this.options = options\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n  toString(options?: ToCssOptions): string {\n    return toCss(this.key, this.style, options)\n  }\n}\n\nexport default {\n  onCreateRule(key: string, style: JssStyle, options: RuleOptions): ViewportRule | null {\n    return key === '@viewport' || key === '@-ms-viewport'\n      ? new ViewportRule(key, style, options)\n      : null\n  }\n}\n","/* @flow */\nimport type {\n  CSSCharsetRule,\n  CSSImportRule,\n  CSSNamespaceRule,\n  RuleOptions,\n  JssStyle,\n  ToCssOptions,\n  BaseRule\n} from '../types'\n\nexport class SimpleRule implements BaseRule {\n  type = 'simple'\n\n  key: string\n\n  value: string\n\n  options: RuleOptions\n\n  isProcessed: boolean = false\n\n  renderable: ?CSSCharsetRule | CSSImportRule | CSSNamespaceRule\n\n  constructor(key: string, value: string, options: RuleOptions) {\n    this.key = key\n    this.value = value\n    this.options = options\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n  // eslint-disable-next-line no-unused-vars\n  toString(options?: ToCssOptions): string {\n    if (Array.isArray(this.value)) {\n      let str = ''\n      for (let index = 0; index < this.value.length; index++) {\n        str += `${this.key} ${this.value[index]};`\n        if (this.value[index + 1]) str += '\\n'\n      }\n      return str\n    }\n\n    return `${this.key} ${this.value};`\n  }\n}\n\nconst keysMap = {\n  '@charset': true,\n  '@import': true,\n  '@namespace': true\n}\n\nexport default {\n  onCreateRule(key: string, value: JssStyle, options: RuleOptions): SimpleRule | null {\n    return key in keysMap ? new SimpleRule(key, ((value: any): string), options) : null\n  }\n}\n","import pluginStyleRule, {StyleRule} from './styleRule'\nimport pluginConditionalRule, {ConditionalRule} from './conditionalRule'\nimport pluginKeyframesRule, {KeyframesRule} from './keyframesRule'\nimport pluginKeyframeRule, {KeyframeRule} from './keyframeRule'\nimport pluginFontFaceRule, {FontFaceRule} from './fontFaceRule'\nimport pluginViewportRule, {ViewportRule} from './viewportRule'\nimport pluginSimpleRule, {SimpleRule} from './simpleRule'\n\nexport const plugins = [\n  pluginStyleRule,\n  pluginConditionalRule,\n  pluginKeyframesRule,\n  pluginKeyframeRule,\n  pluginFontFaceRule,\n  pluginViewportRule,\n  pluginSimpleRule\n]\n\nexport {\n  StyleRule,\n  ConditionalRule,\n  KeyframesRule,\n  KeyframeRule,\n  FontFaceRule,\n  ViewportRule,\n  SimpleRule\n}\n","/* @flow */\nimport createRule from './utils/createRule'\nimport {StyleRule, KeyframesRule} from './plugins/index'\nimport type {\n  RuleListOptions,\n  ToCssOptions,\n  Rule,\n  RuleOptions,\n  JssStyle,\n  Classes,\n  KeyframesMap,\n  UpdateArguments,\n  UpdateOptions\n} from './types'\nimport escape from './utils/escape'\n\nconst defaultUpdateOptions = {\n  process: true\n}\n\nconst forceUpdateOptions = {\n  force: true,\n  process: true\n}\n\n/**\n * Contains rules objects and allows adding/removing etc.\n * Is used for e.g. by `StyleSheet` or `ConditionalRule`.\n */\nexport default class RuleList {\n  // Rules registry for access by .get() method.\n  // It contains the same rule registered by name and by selector.\n  map: {[key: string]: Rule} = {}\n\n  // Original styles object.\n  raw: {[key: string]: JssStyle} = {}\n\n  // Used to ensure correct rules order.\n  index: Array<Rule> = []\n\n  counter: number = 0\n\n  options: RuleListOptions\n\n  classes: Classes\n\n  keyframes: KeyframesMap\n\n  constructor(options: RuleListOptions) {\n    this.options = options\n    this.classes = options.classes\n    this.keyframes = options.keyframes\n  }\n\n  add(name: string, decl: JssStyle, ruleOptions?: RuleOptions): Rule | null {\n    return this.addOrReplace(name, decl, false, ruleOptions)\n  }\n\n  /**\n   * See issue https://github.com/cssinjs/jss/issues/1360\n   */\n  replace(name: string, decl: JssStyle, ruleOptions?: RuleOptions): Rule | null {\n    return this.addOrReplace(name, decl, true, ruleOptions)\n  }\n\n  /**\n   * Create and register rule.\n   *\n   * Will not render after Style Sheet was rendered the first time.\n   */\n  addOrReplace(\n    name: string,\n    decl: JssStyle,\n    isReplace: boolean,\n    ruleOptions?: RuleOptions\n  ): Rule | null {\n    const {parent, sheet, jss, Renderer, generateId, scoped} = this.options\n    const options = {\n      classes: this.classes,\n      parent,\n      sheet,\n      jss,\n      Renderer,\n      generateId,\n      scoped,\n      name,\n      ...ruleOptions\n    }\n\n    // When user uses .createStyleSheet(), duplicate names are not possible, but\n    // `sheet.addRule()` opens the door for any duplicate rule name. When this happens\n    // we need to make the key unique within this RuleList instance scope.\n    let key = name\n    if (!isReplace && name in this.raw) {\n      key = `${name}-d${this.counter++}`\n    }\n\n    // We need to save the original decl before creating the rule\n    // because cache plugin needs to use it as a key to return a cached rule.\n    this.raw[key] = decl\n\n    if (key in this.classes) {\n      // E.g. rules inside of @media container\n      options.selector = `.${escape(this.classes[key])}`\n    }\n\n    const rule = createRule(key, decl, options)\n\n    if (!rule) return null\n\n    this.register(rule)\n\n    const index = options.index === undefined ? this.index.length : options.index\n    this.index.splice(index, 0, rule)\n\n    return rule\n  }\n\n  /**\n   * Get a rule.\n   */\n  get(name: string): Rule {\n    return this.map[name]\n  }\n\n  /**\n   * Delete a rule.\n   */\n  remove(rule: Rule): void {\n    this.unregister(rule)\n    delete this.raw[rule.key]\n    this.index.splice(this.index.indexOf(rule), 1)\n  }\n\n  /**\n   * Get index of a rule.\n   */\n  indexOf(rule: Rule): number {\n    return this.index.indexOf(rule)\n  }\n\n  /**\n   * Run `onProcessRule()` plugins on every rule.\n   */\n  process(): void {\n    const {plugins} = this.options.jss\n    // We need to clone array because if we modify the index somewhere else during a loop\n    // we end up with very hard-to-track-down side effects.\n    this.index.slice(0).forEach(plugins.onProcessRule, plugins)\n  }\n\n  /**\n   * Register a rule in `.map`, `.classes` and `.keyframes` maps.\n   */\n  register(rule: Rule): void {\n    this.map[rule.key] = rule\n    if (rule instanceof StyleRule) {\n      this.map[rule.selector] = rule\n      if (rule.id) this.classes[rule.key] = rule.id\n    } else if (rule instanceof KeyframesRule && this.keyframes) {\n      this.keyframes[rule.name] = rule.id\n    }\n  }\n\n  /**\n   * Unregister a rule.\n   */\n  unregister(rule: Rule): void {\n    delete this.map[rule.key]\n    if (rule instanceof StyleRule) {\n      delete this.map[rule.selector]\n      delete this.classes[rule.key]\n    } else if (rule instanceof KeyframesRule) {\n      delete this.keyframes[rule.name]\n    }\n  }\n\n  /**\n   * Update the function values with a new data.\n   */\n  update(...args: UpdateArguments): void {\n    let name\n    let data\n    let options\n\n    if (typeof args[0] === 'string') {\n      name = args[0]\n      // $FlowFixMe\n      data = args[1]\n      // $FlowFixMe\n      options = args[2]\n    } else {\n      data = args[0]\n      // $FlowFixMe\n      options = args[1]\n      name = null\n    }\n\n    if (name) {\n      this.updateOne(this.map[name], data, options)\n    } else {\n      for (let index = 0; index < this.index.length; index++) {\n        this.updateOne(this.index[index], data, options)\n      }\n    }\n  }\n\n  /**\n   * Execute plugins, update rule props.\n   */\n  updateOne(rule: Rule, data: Object, options?: UpdateOptions = defaultUpdateOptions) {\n    const {\n      jss: {plugins},\n      sheet\n    } = this.options\n\n    // It is a rules container like for e.g. ConditionalRule.\n    if (rule.rules instanceof RuleList) {\n      rule.rules.update(data, options)\n      return\n    }\n\n    const styleRule: StyleRule = (rule: any)\n    const {style} = styleRule\n\n    plugins.onUpdate(data, rule, sheet, options)\n\n    // We rely on a new `style` ref in case it was mutated during onUpdate hook.\n    if (options.process && style && style !== styleRule.style) {\n      // We need to run the plugins in case new `style` relies on syntax plugins.\n      plugins.onProcessStyle(styleRule.style, styleRule, sheet)\n\n      // Update and add props.\n      for (const prop in styleRule.style) {\n        const nextValue = styleRule.style[prop]\n        const prevValue = style[prop]\n        // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n        if (nextValue !== prevValue) {\n          styleRule.prop(prop, nextValue, forceUpdateOptions)\n        }\n      }\n\n      // Remove props.\n      for (const prop in style) {\n        const nextValue = styleRule.style[prop]\n        const prevValue = style[prop]\n        // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n        if (nextValue == null && nextValue !== prevValue) {\n          styleRule.prop(prop, null, forceUpdateOptions)\n        }\n      }\n    }\n  }\n\n  /**\n   * Convert rules to a CSS string.\n   */\n  toString(options?: ToCssOptions): string {\n    let str = ''\n    const {sheet} = this.options\n    const link = sheet ? sheet.options.link : false\n\n    for (let index = 0; index < this.index.length; index++) {\n      const rule = this.index[index]\n      const css = rule.toString(options)\n\n      // No need to render an empty rule.\n      if (!css && !link) continue\n\n      if (str) str += '\\n'\n      str += css\n    }\n\n    return str\n  }\n}\n","/* @flow */\nimport RuleList from './RuleList'\nimport type {\n  InternalStyleSheetOptions,\n  Rule,\n  ToCssOptions,\n  RuleOptions,\n  StyleSheetOptions,\n  JssStyle,\n  Classes,\n  KeyframesMap,\n  JssStyles,\n  Renderer,\n  UpdateArguments,\n  UpdateOptions\n} from './types'\n\nexport default class StyleSheet {\n  options: InternalStyleSheetOptions\n\n  deployed: boolean\n\n  attached: boolean\n\n  rules: RuleList\n\n  renderer: Renderer | null\n\n  classes: Classes\n\n  keyframes: KeyframesMap\n\n  queue: ?Array<Rule>\n\n  constructor(styles: JssStyles, options: StyleSheetOptions) {\n    this.attached = false\n    this.deployed = false\n    this.classes = {}\n    this.keyframes = {}\n    this.options = {\n      ...options,\n      sheet: this,\n      parent: this,\n      classes: this.classes,\n      keyframes: this.keyframes\n    }\n    if (options.Renderer) {\n      this.renderer = new options.Renderer(this)\n    }\n    this.rules = new RuleList(this.options)\n\n    for (const name in styles) {\n      this.rules.add(name, styles[name])\n    }\n\n    this.rules.process()\n  }\n\n  /**\n   * Attach renderable to the render tree.\n   */\n  attach(): this {\n    if (this.attached) return this\n    if (this.renderer) this.renderer.attach()\n    this.attached = true\n    // Order is important, because we can't use insertRule API if style element is not attached.\n    if (!this.deployed) this.deploy()\n    return this\n  }\n\n  /**\n   * Remove renderable from render tree.\n   */\n  detach(): this {\n    if (!this.attached) return this\n    if (this.renderer) this.renderer.detach()\n    this.attached = false\n    return this\n  }\n\n  /**\n   * Add or replace a rule to the current stylesheet.\n   * Will insert a rule also after the stylesheet has been rendered first time.\n   */\n  addOrReplaceRule(\n    name: string,\n    decl: JssStyle,\n    isReplace: boolean,\n    options?: RuleOptions\n  ): Rule | null {\n    const {queue} = this\n\n    // Plugins can create rules.\n    // In order to preserve the right order, we need to queue all `.addRule` calls,\n    // which happen after the first `rules.add()` call.\n    if (this.attached && !queue) this.queue = []\n\n    let rule\n    if (isReplace) {\n      rule = this.rules.replace(name, decl, options)\n    } else {\n      rule = this.rules.add(name, decl, options)\n    }\n\n    if (!rule) return null\n\n    this.options.jss.plugins.onProcessRule(rule)\n\n    if (this.attached) {\n      if (!this.deployed) return rule\n      // Don't insert rule directly if there is no stringified version yet.\n      // It will be inserted all together when .attach is called.\n      if (queue) queue.push(rule)\n      else {\n        this.insertRule(rule)\n        if (this.queue) {\n          this.queue.forEach(this.insertRule, this)\n          this.queue = undefined\n        }\n      }\n      return rule\n    }\n\n    // We can't add rules to a detached style node.\n    // We will redeploy the sheet once user will attach it.\n    this.deployed = false\n\n    return rule\n  }\n\n  addRule(name: string, decl: JssStyle, options?: RuleOptions): Rule | null {\n    return this.addOrReplaceRule(name, decl, false, options)\n  }\n\n  /**\n   * See issue https://github.com/cssinjs/jss/issues/1360\n   */\n  replaceRule(name: string, decl: JssStyle, options?: RuleOptions): Rule | null {\n    return this.addOrReplaceRule(name, decl, true, options)\n  }\n\n  /**\n   * Insert rule into the StyleSheet\n   */\n  insertRule(rule: Rule) {\n    if (this.renderer) {\n      this.renderer.insertRule(rule)\n    }\n  }\n\n  /**\n   * Create and add rules.\n   * Will render also after Style Sheet was rendered the first time.\n   */\n  addRules(styles: JssStyles, options?: RuleOptions): Array<Rule> {\n    const added = []\n    for (const name in styles) {\n      const rule = this.addRule(name, styles[name], options)\n      if (rule) added.push(rule)\n    }\n    return added\n  }\n\n  /**\n   * Get a rule by name.\n   */\n  getRule(name: string): Rule {\n    return this.rules.get(name)\n  }\n\n  /**\n   * Delete a rule by name.\n   * Returns `true`: if rule has been deleted from the DOM.\n   */\n  deleteRule(name: string | Rule): boolean {\n    const rule = typeof name === 'object' ? name : this.rules.get(name)\n\n    if (!rule) return false\n\n    this.rules.remove(rule)\n\n    if (this.attached && rule.renderable && this.renderer) {\n      return this.renderer.deleteRule(rule.renderable)\n    }\n\n    return true\n  }\n\n  /**\n   * Get index of a rule.\n   */\n  indexOf(rule: Rule): number {\n    return this.rules.indexOf(rule)\n  }\n\n  /**\n   * Deploy pure CSS string to a renderable.\n   */\n  deploy(): this {\n    if (this.renderer) this.renderer.deploy()\n    this.deployed = true\n    return this\n  }\n\n  /**\n   * Update the function values with a new data.\n   */\n  update(...args: UpdateArguments): this {\n    this.rules.update(...args)\n    return this\n  }\n\n  /**\n   * Updates a single rule.\n   */\n  updateOne(rule: Rule, data: Object, options?: UpdateOptions): this {\n    this.rules.updateOne(rule, data, options)\n    return this\n  }\n\n  /**\n   * Convert rules to a CSS string.\n   */\n  toString(options?: ToCssOptions): string {\n    return this.rules.toString(options)\n  }\n}\n","/* @flow */\nimport warning from 'tiny-warning'\nimport type StyleSheet from './StyleSheet'\nimport type {\n  Plugin,\n  Rule,\n  RuleOptions,\n  UpdateOptions,\n  JssStyle,\n  JssValue,\n  OnCreateRule,\n  OnProcessRule,\n  OnProcessStyle,\n  OnProcessSheet,\n  OnChangeValue,\n  OnUpdate\n} from './types'\nimport type {StyleRule} from './plugins/styleRule'\n\ntype Registry = {\n  onCreateRule: Array<OnCreateRule>,\n  onProcessRule: Array<OnProcessRule>,\n  onProcessStyle: Array<OnProcessStyle>,\n  onProcessSheet: Array<OnProcessSheet>,\n  onChangeValue: Array<OnChangeValue>,\n  onUpdate: Array<OnUpdate>\n}\n\nexport default class PluginsRegistry {\n  plugins: {\n    internal: Array<Plugin>,\n    external: Array<Plugin>\n  } = {\n    internal: [],\n    external: []\n  }\n\n  registry: Registry\n\n  /**\n   * Call `onCreateRule` hooks and return an object if returned by a hook.\n   */\n  onCreateRule(name?: string, decl: JssStyle, options: RuleOptions): Rule | null {\n    for (let i = 0; i < this.registry.onCreateRule.length; i++) {\n      const rule = this.registry.onCreateRule[i](name, decl, options)\n      if (rule) return rule\n    }\n\n    return null\n  }\n\n  /**\n   * Call `onProcessRule` hooks.\n   */\n  onProcessRule(rule: Rule): void {\n    if (rule.isProcessed) return\n    const {sheet} = rule.options\n    for (let i = 0; i < this.registry.onProcessRule.length; i++) {\n      this.registry.onProcessRule[i](rule, sheet)\n    }\n\n    if (rule.style) this.onProcessStyle(rule.style, rule, sheet)\n\n    rule.isProcessed = true\n  }\n\n  /**\n   * Call `onProcessStyle` hooks.\n   */\n  onProcessStyle(style: JssStyle, rule: Rule, sheet?: StyleSheet): void {\n    for (let i = 0; i < this.registry.onProcessStyle.length; i++) {\n      // $FlowFixMe\n      rule.style = this.registry.onProcessStyle[i](rule.style, rule, sheet)\n    }\n  }\n\n  /**\n   * Call `onProcessSheet` hooks.\n   */\n  onProcessSheet(sheet: StyleSheet): void {\n    for (let i = 0; i < this.registry.onProcessSheet.length; i++) {\n      this.registry.onProcessSheet[i](sheet)\n    }\n  }\n\n  /**\n   * Call `onUpdate` hooks.\n   */\n  onUpdate(data: Object, rule: Rule, sheet: StyleSheet, options: UpdateOptions): void {\n    for (let i = 0; i < this.registry.onUpdate.length; i++) {\n      this.registry.onUpdate[i](data, rule, sheet, options)\n    }\n  }\n\n  /**\n   * Call `onChangeValue` hooks.\n   */\n  onChangeValue(value: JssValue, prop: string, rule: StyleRule): JssValue {\n    let processedValue = value\n    for (let i = 0; i < this.registry.onChangeValue.length; i++) {\n      processedValue = this.registry.onChangeValue[i](processedValue, prop, rule)\n    }\n    return processedValue\n  }\n\n  /**\n   * Register a plugin.\n   */\n  use(newPlugin: Plugin, options: {queue: 'internal' | 'external'} = {queue: 'external'}): void {\n    const plugins = this.plugins[options.queue]\n\n    // Avoids applying same plugin twice, at least based on ref.\n    if (plugins.indexOf(newPlugin) !== -1) {\n      return\n    }\n\n    plugins.push(newPlugin)\n\n    this.registry = [...this.plugins.external, ...this.plugins.internal].reduce(\n      (registry: Registry, plugin: Plugin) => {\n        for (const name in plugin) {\n          if (name in registry) {\n            registry[name].push(plugin[name])\n          } else {\n            warning(false, `[JSS] Unknown hook \"${name}\".`)\n          }\n        }\n        return registry\n      },\n      {\n        onCreateRule: [],\n        onProcessRule: [],\n        onProcessStyle: [],\n        onProcessSheet: [],\n        onChangeValue: [],\n        onUpdate: []\n      }\n    )\n  }\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","/* @flow */\nimport type {ToCssOptions} from './types'\nimport type StyleSheet from './StyleSheet'\n\n/**\n * Sheets registry to access them all at one place.\n */\nexport default class SheetsRegistry {\n  registry: Array<StyleSheet> = []\n\n  /**\n   * Current highest index number.\n   */\n  get index(): number {\n    return this.registry.length === 0 ? 0 : this.registry[this.registry.length - 1].options.index\n  }\n\n  /**\n   * Register a Style Sheet.\n   */\n  add(sheet: StyleSheet): void {\n    const {registry} = this\n    const {index} = sheet.options\n\n    if (registry.indexOf(sheet) !== -1) return\n\n    if (registry.length === 0 || index >= this.index) {\n      registry.push(sheet)\n      return\n    }\n\n    // Find a position.\n    for (let i = 0; i < registry.length; i++) {\n      if (registry[i].options.index > index) {\n        registry.splice(i, 0, sheet)\n        return\n      }\n    }\n  }\n\n  /**\n   * Reset the registry.\n   */\n  reset(): void {\n    this.registry = []\n  }\n\n  /**\n   * Remove a Style Sheet.\n   */\n  remove(sheet: StyleSheet): void {\n    const index = this.registry.indexOf(sheet)\n    this.registry.splice(index, 1)\n  }\n\n  /**\n   * Convert all attached sheets to a CSS string.\n   */\n  toString({attached, ...options}: {attached?: boolean, ...ToCssOptions} = {}): string {\n    let css = ''\n    for (let i = 0; i < this.registry.length; i++) {\n      const sheet = this.registry[i]\n      if (attached != null && sheet.attached !== attached) {\n        continue\n      }\n      if (css) css += '\\n'\n      css += sheet.toString(options)\n    }\n    return css\n  }\n}\n","/* @flow */\nimport SheetsRegistry from './SheetsRegistry'\n\n/**\n * This is a global sheets registry. Only DomRenderer will add sheets to it.\n * On the server one should use an own SheetsRegistry instance and add the\n * sheets to it, because you need to make sure to create a new registry for\n * each request in order to not leak sheets across requests.\n */\nexport default new SheetsRegistry()\n","/* eslint-disable */\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nexport default (typeof window != 'undefined' && window.Math == Math\n  ? window\n  : typeof self != 'undefined' && self.Math == Math\n    ? self\n    : Function('return this')())\n","import globalThis from './globalThis'\n\nconst ns = '2f1acc6c3a606b082e5eef5e54414ffb'\nif (globalThis[ns] == null) globalThis[ns] = 0\n\n// Bundle may contain multiple JSS versions at the same time. In order to identify\n// the current version with just one short number and use it for classes generation\n// we use a counter. Also it is more accurate, because user can manually reevaluate\n// the module.\nexport default globalThis[ns]++\n","/* @flow */\nimport warning from 'tiny-warning'\nimport type {Rule} from '../types'\nimport StyleSheet from '../StyleSheet'\nimport moduleId from './moduleId'\n\nconst maxRules = 1e10\n\nexport type CreateGenerateIdOptions = {|\n  minify: boolean\n|}\nexport type GenerateId = (rule: Rule, sheet?: StyleSheet) => string\n\nexport type CreateGenerateId = (options?: CreateGenerateIdOptions) => GenerateId\n\n/**\n * Returns a function which generates unique class names based on counters.\n * When new generator function is created, rule counter is reseted.\n * We need to reset the rule counter for SSR for each request.\n */\nconst createGenerateId: CreateGenerateId = (options = {}) => {\n  let ruleCounter = 0\n\n  return (rule: Rule, sheet?: StyleSheet): string => {\n    ruleCounter += 1\n\n    if (ruleCounter > maxRules) {\n      warning(false, `[JSS] You might have a memory leak. Rule counter is at ${ruleCounter}.`)\n    }\n\n    let jssId = ''\n    let prefix = ''\n\n    if (sheet) {\n      if (sheet.options.classNamePrefix) {\n        prefix = sheet.options.classNamePrefix\n      }\n      if (sheet.options.jss.id != null) {\n        jssId = String(sheet.options.jss.id)\n      }\n    }\n\n    if (options.minify) {\n      // Using \"c\" because a number can't be the first char in a class name.\n      return `${prefix || 'c'}${moduleId}${jssId}${ruleCounter}`\n    }\n\n    return `${prefix + rule.key}-${moduleId}${jssId ? `-${jssId}` : ''}-${ruleCounter}`\n  }\n}\n\nexport default createGenerateId\n","/* @flow */\nimport warning from 'tiny-warning'\nimport sheets from './sheets'\nimport toCssValue from './utils/toCssValue'\nimport type {\n  CSSStyleRule,\n  CSSMediaRule,\n  CSSKeyframesRule,\n  CSSKeyframeRule,\n  HTMLElementWithStyleMap,\n  AnyCSSRule,\n  Rule,\n  RuleList,\n  ContainerRule,\n  JssValue,\n  InsertionPoint,\n  StyleSheet\n} from './types'\n\ntype PriorityOptions = {\n  index: number,\n  insertionPoint?: InsertionPoint\n}\n\n/**\n * Cache the value from the first time a function is called.\n */\nconst memoize = <Value>(fn: () => Value): (() => Value) => {\n  let value\n  return () => {\n    if (!value) value = fn()\n    return value\n  }\n}\n\n/**\n * Get a style property value.\n */\nfunction getPropertyValue(\n  cssRule: HTMLElementWithStyleMap | CSSStyleRule | CSSKeyframeRule,\n  prop: string\n): string {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      return cssRule.attributeStyleMap.get(prop)\n    }\n    return cssRule.style.getPropertyValue(prop)\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return ''\n  }\n}\n\n/**\n * Set a style property.\n */\nfunction setProperty(\n  cssRule: HTMLElementWithStyleMap | CSSStyleRule | CSSKeyframeRule,\n  prop: string,\n  value: JssValue\n): boolean {\n  try {\n    let cssValue = ((value: any): string)\n\n    if (Array.isArray(value)) {\n      cssValue = toCssValue(value, true)\n\n      if (value[value.length - 1] === '!important') {\n        cssRule.style.setProperty(prop, cssValue, 'important')\n        return true\n      }\n    }\n\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.set(prop, cssValue)\n    } else {\n      cssRule.style.setProperty(prop, cssValue)\n    }\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return false\n  }\n  return true\n}\n\n/**\n * Remove a style property.\n */\nfunction removeProperty(\n  cssRule: HTMLElementWithStyleMap | CSSStyleRule | CSSKeyframeRule,\n  prop: string\n) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.delete(prop)\n    } else {\n      cssRule.style.removeProperty(prop)\n    }\n  } catch (err) {\n    warning(\n      false,\n      `[JSS] DOMException \"${err.message}\" was thrown. Tried to remove property \"${prop}\".`\n    )\n  }\n}\n\n/**\n * Set the selector.\n */\nfunction setSelector(cssRule: CSSStyleRule, selectorText: string): boolean {\n  cssRule.selectorText = selectorText\n\n  // Return false if setter was not successful.\n  // Currently works in chrome only.\n  return cssRule.selectorText === selectorText\n}\n\n/**\n * Gets the `head` element upon the first call and caches it.\n * We assume it can't be null.\n */\nconst getHead = memoize((): HTMLElement => (document.querySelector('head'): any))\n\n/**\n * Find attached sheet with an index higher than the passed one.\n */\nfunction findHigherSheet(registry: Array<StyleSheet>, options: PriorityOptions): StyleSheet | null {\n  for (let i = 0; i < registry.length; i++) {\n    const sheet = registry[i]\n    if (\n      sheet.attached &&\n      sheet.options.index > options.index &&\n      sheet.options.insertionPoint === options.insertionPoint\n    ) {\n      return sheet\n    }\n  }\n  return null\n}\n\n/**\n * Find attached sheet with the highest index.\n */\nfunction findHighestSheet(\n  registry: Array<StyleSheet>,\n  options: PriorityOptions\n): StyleSheet | null {\n  for (let i = registry.length - 1; i >= 0; i--) {\n    const sheet = registry[i]\n    if (sheet.attached && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet\n    }\n  }\n  return null\n}\n\n/**\n * Find a comment with \"jss\" inside.\n */\nfunction findCommentNode(text: string): Node | null {\n  const head = getHead()\n  for (let i = 0; i < head.childNodes.length; i++) {\n    const node = head.childNodes[i]\n    if (node.nodeType === 8 && node.nodeValue.trim() === text) {\n      return node\n    }\n  }\n  return null\n}\n\ntype PrevNode = {\n  parent: ?Node,\n  node: ?Node\n}\n\n/**\n * Find a node before which we can insert the sheet.\n */\nfunction findPrevNode(options: PriorityOptions): PrevNode | false {\n  const {registry} = sheets\n\n  if (registry.length > 0) {\n    // Try to insert before the next higher sheet.\n    let sheet = findHigherSheet(registry, options)\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element\n      }\n    }\n\n    // Otherwise insert after the last attached.\n    sheet = findHighestSheet(registry, options)\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element.nextSibling\n      }\n    }\n  }\n\n  // Try to find a comment placeholder if registry is empty.\n  const {insertionPoint} = options\n  if (insertionPoint && typeof insertionPoint === 'string') {\n    const comment = findCommentNode(insertionPoint)\n    if (comment) {\n      return {\n        parent: comment.parentNode,\n        node: comment.nextSibling\n      }\n    }\n\n    // If user specifies an insertion point and it can't be found in the document -\n    // bad specificity issues may appear.\n    warning(false, `[JSS] Insertion point \"${insertionPoint}\" not found.`)\n  }\n\n  return false\n}\n\n/**\n * Insert style element into the DOM.\n */\nfunction insertStyle(style: HTMLElement, options: PriorityOptions) {\n  const {insertionPoint} = options\n  const nextNode = findPrevNode(options)\n\n  if (nextNode !== false && nextNode.parent) {\n    nextNode.parent.insertBefore(style, nextNode.node)\n\n    return\n  }\n\n  // Works with iframes and any node types.\n  if (insertionPoint && typeof insertionPoint.nodeType === 'number') {\n    // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n    const insertionPointElement: HTMLElement = (insertionPoint: any)\n    const {parentNode} = insertionPointElement\n    if (parentNode) parentNode.insertBefore(style, insertionPointElement.nextSibling)\n    else warning(false, '[JSS] Insertion point is not in the DOM.')\n    return\n  }\n\n  getHead().appendChild(style)\n}\n\n/**\n * Read jss nonce setting from the page if the user has set it.\n */\nconst getNonce = memoize(\n  (): ?string => {\n    const node = document.querySelector('meta[property=\"csp-nonce\"]')\n    return node ? node.getAttribute('content') : null\n  }\n)\n\nconst insertRule = (\n  container: CSSStyleSheet | CSSMediaRule | CSSKeyframesRule,\n  rule: string,\n  index?: number\n): false | any => {\n  const maxIndex = container.cssRules.length\n  // In case previous insertion fails, passed index might be wrong\n  if (index === undefined || index > maxIndex) {\n    // eslint-disable-next-line no-param-reassign\n    index = maxIndex\n  }\n\n  try {\n    if ('insertRule' in container) {\n      const c = ((container: any): CSSStyleSheet)\n      c.insertRule(rule, index)\n    }\n    // Keyframes rule.\n    else if ('appendRule' in container) {\n      const c = ((container: any): CSSKeyframesRule)\n      c.appendRule(rule)\n    }\n  } catch (err) {\n    warning(false, `[JSS] ${err.message}`)\n    return false\n  }\n  return container.cssRules[index]\n}\n\nconst createStyle = (): HTMLElement => {\n  const el = document.createElement('style')\n  // Without it, IE will have a broken source order specificity if we\n  // insert rules after we insert the style tag.\n  // It seems to kick-off the source order specificity algorithm.\n  el.textContent = '\\n'\n  return el\n}\n\nexport default class DomRenderer {\n  getPropertyValue = getPropertyValue\n\n  setProperty = setProperty\n\n  removeProperty = removeProperty\n\n  setSelector = setSelector\n\n  // HTMLStyleElement needs fixing https://github.com/facebook/flow/issues/2696\n  element: any\n\n  sheet: StyleSheet | void\n\n  hasInsertedRules: boolean = false\n\n  constructor(sheet?: StyleSheet) {\n    // There is no sheet when the renderer is used from a standalone StyleRule.\n    if (sheet) sheets.add(sheet)\n\n    this.sheet = sheet\n    const {media, meta, element} = this.sheet ? this.sheet.options : {}\n    this.element = element || createStyle()\n    this.element.setAttribute('data-jss', '')\n    if (media) this.element.setAttribute('media', media)\n    if (meta) this.element.setAttribute('data-meta', meta)\n    const nonce = getNonce()\n    if (nonce) this.element.setAttribute('nonce', nonce)\n  }\n\n  /**\n   * Insert style element into render tree.\n   */\n  attach(): void {\n    // In the case the element node is external and it is already in the DOM.\n    if (this.element.parentNode || !this.sheet) return\n\n    insertStyle(this.element, this.sheet.options)\n\n    // When rules are inserted using `insertRule` API, after `sheet.detach().attach()`\n    // most browsers create a new CSSStyleSheet, except of all IEs.\n    const deployed = Boolean(this.sheet && this.sheet.deployed)\n    if (this.hasInsertedRules && deployed) {\n      this.hasInsertedRules = false\n      this.deploy()\n    }\n  }\n\n  /**\n   * Remove style element from render tree.\n   */\n  detach(): void {\n    const {parentNode} = this.element\n    if (parentNode) parentNode.removeChild(this.element)\n  }\n\n  /**\n   * Inject CSS string into element.\n   */\n  deploy(): void {\n    const {sheet} = this\n    if (!sheet) return\n    if (sheet.options.link) {\n      this.insertRules(sheet.rules)\n      return\n    }\n    this.element.textContent = `\\n${sheet.toString()}\\n`\n  }\n\n  /**\n   * Insert RuleList into an element.\n   */\n\n  insertRules(rules: RuleList, nativeParent?: CSSStyleSheet | CSSMediaRule | CSSKeyframesRule) {\n    for (let i = 0; i < rules.index.length; i++) {\n      this.insertRule(rules.index[i], i, nativeParent)\n    }\n  }\n\n  /**\n   * Insert a rule into element.\n   */\n  insertRule(\n    rule: Rule,\n    index?: number,\n    nativeParent?: CSSStyleSheet | CSSMediaRule | CSSKeyframesRule = this.element.sheet\n  ): false | CSSStyleSheet | AnyCSSRule {\n    if (rule.rules) {\n      const parent: ContainerRule = (rule: any)\n      let latestNativeParent = nativeParent\n      if (rule.type === 'conditional' || rule.type === 'keyframes') {\n        // We need to render the container without children first.\n        latestNativeParent = insertRule(nativeParent, parent.toString({children: false}), index)\n        if (latestNativeParent === false) {\n          return false\n        }\n      }\n      this.insertRules(parent.rules, latestNativeParent)\n      return latestNativeParent\n    }\n\n    // IE keeps the CSSStyleSheet after style node has been reattached,\n    // so we need to check if the `renderable` reference the right style sheet and not\n    // rerender those rules.\n    if (rule.renderable && rule.renderable.parentStyleSheet === this.element.sheet) {\n      return rule.renderable\n    }\n\n    const ruleStr = rule.toString()\n\n    if (!ruleStr) return false\n\n    const nativeRule = insertRule(nativeParent, ruleStr, index)\n    if (nativeRule === false) {\n      return false\n    }\n\n    this.hasInsertedRules = true\n    rule.renderable = nativeRule\n    return nativeRule\n  }\n\n  /**\n   * Delete a rule.\n   */\n  deleteRule(cssRule: AnyCSSRule): boolean {\n    const {sheet} = this.element\n    const index = this.indexOf(cssRule)\n    if (index === -1) return false\n    sheet.deleteRule(index)\n    return true\n  }\n\n  /**\n   * Get index of a CSS Rule.\n   */\n  indexOf(cssRule: AnyCSSRule): number {\n    const {cssRules} = this.element.sheet\n    for (let index = 0; index < cssRules.length; index++) {\n      if (cssRule === cssRules[index]) return index\n    }\n    return -1\n  }\n\n  /**\n   * Generate a new CSS rule and replace the existing one.\n   *\n   * Only used for some old browsers because they can't set a selector.\n   */\n  replaceRule(cssRule: AnyCSSRule, rule: Rule): false | CSSStyleSheet | AnyCSSRule {\n    const index = this.indexOf(cssRule)\n    if (index === -1) return false\n    this.element.sheet.deleteRule(index)\n    return this.insertRule(rule, index)\n  }\n\n  /**\n   * Get all rules elements.\n   */\n  getRules(): CSSRuleList {\n    return this.element.sheet.cssRules\n  }\n}\n","/* @flow */\nimport isInBrowser from 'is-in-browser'\nimport StyleSheet from './StyleSheet'\nimport PluginsRegistry from './PluginsRegistry'\nimport sheets from './sheets'\nimport {plugins as internalPlugins} from './plugins/index'\nimport createGenerateIdDefault from './utils/createGenerateId'\nimport createRule from './utils/createRule'\nimport DomRenderer from './DomRenderer'\nimport type {\n  Rule,\n  RuleFactoryOptions,\n  RuleOptions,\n  StyleSheetFactoryOptions,\n  Plugin,\n  JssOptions,\n  InternalJssOptions,\n  JssStyle\n} from './types'\nimport type {GenerateId} from './utils/createGenerateId'\n\nlet instanceCounter = 0\n\nexport default class Jss {\n  id = instanceCounter++\n\n  version = process.env.VERSION\n\n  plugins = new PluginsRegistry()\n\n  options: InternalJssOptions = {\n    id: {minify: false},\n    createGenerateId: createGenerateIdDefault,\n    Renderer: isInBrowser ? DomRenderer : null,\n    plugins: []\n  }\n\n  generateId: GenerateId = createGenerateIdDefault({minify: false})\n\n  constructor(options?: JssOptions) {\n    for (let i = 0; i < internalPlugins.length; i++) {\n      this.plugins.use(internalPlugins[i], {queue: 'internal'})\n    }\n    this.setup(options)\n  }\n\n  /**\n   * Prepares various options, applies plugins.\n   * Should not be used twice on the same instance, because there is no plugins\n   * deduplication logic.\n   */\n  setup(options?: JssOptions = {}): this {\n    if (options.createGenerateId) {\n      this.options.createGenerateId = options.createGenerateId\n    }\n\n    if (options.id) {\n      this.options.id = {\n        ...this.options.id,\n        ...options.id\n      }\n    }\n\n    if (options.createGenerateId || options.id) {\n      this.generateId = this.options.createGenerateId(this.options.id)\n    }\n\n    if (options.insertionPoint != null) this.options.insertionPoint = options.insertionPoint\n    if ('Renderer' in options) {\n      this.options.Renderer = options.Renderer\n    }\n\n    // eslint-disable-next-line prefer-spread\n    if (options.plugins) this.use.apply(this, options.plugins)\n\n    return this\n  }\n\n  /**\n   * Create a Style Sheet.\n   */\n  createStyleSheet(styles: Object, options: StyleSheetFactoryOptions = {}): StyleSheet {\n    let {index} = options\n    if (typeof index !== 'number') {\n      index = sheets.index === 0 ? 0 : sheets.index + 1\n    }\n    const sheet = new StyleSheet(styles, {\n      ...options,\n      jss: this,\n      generateId: options.generateId || this.generateId,\n      insertionPoint: this.options.insertionPoint,\n      Renderer: this.options.Renderer,\n      index\n    })\n    this.plugins.onProcessSheet(sheet)\n\n    return sheet\n  }\n\n  /**\n   * Detach the Style Sheet and remove it from the registry.\n   */\n  removeStyleSheet(sheet: StyleSheet): this {\n    sheet.detach()\n    sheets.remove(sheet)\n    return this\n  }\n\n  /**\n   * Create a rule without a Style Sheet.\n   * [Deprecated] will be removed in the next major version.\n   */\n  createRule(name?: string, style?: JssStyle = {}, options?: RuleFactoryOptions = {}): Rule | null {\n    // Enable rule without name for inline styles.\n    if (typeof name === 'object') {\n      return this.createRule(undefined, name, style)\n    }\n\n    const ruleOptions: RuleOptions = {...options, name, jss: this, Renderer: this.options.Renderer}\n\n    if (!ruleOptions.generateId) ruleOptions.generateId = this.generateId\n    if (!ruleOptions.classes) ruleOptions.classes = {}\n    if (!ruleOptions.keyframes) ruleOptions.keyframes = {}\n\n    const rule = createRule(name, style, ruleOptions)\n\n    if (rule) this.plugins.onProcessRule(rule)\n\n    return rule\n  }\n\n  /**\n   * Register plugin. Passed function will be invoked with a rule instance.\n   */\n  use(...plugins: Array<Plugin>): this {\n    plugins.forEach(plugin => {\n      this.plugins.use(plugin)\n    })\n\n    return this\n  }\n}\n","/**\n * Extracts a styles object with only props that contain function values.\n */\nexport default function getDynamicStyles(styles: Object): Object | null {\n  let to = null\n\n  for (const key in styles) {\n    const value = styles[key]\n    const type = typeof value\n\n    if (type === 'function') {\n      if (!to) to = {}\n      to[key] = value\n    } else if (type === 'object' && value !== null && !Array.isArray(value)) {\n      const extracted = getDynamicStyles(value)\n      if (extracted) {\n        if (!to) to = {}\n        to[key] = extracted\n      }\n    }\n  }\n\n  return to\n}\n","/* @flow */\nimport warn from 'tiny-warning'\nimport type StyleSheet from './StyleSheet'\n\n/**\n * SheetsManager is like a WeakMap which is designed to count StyleSheet\n * instances and attach/detach automatically.\n */\nexport default class SheetsManager {\n  length = 0\n\n  sheets = new WeakMap<\n    Object,\n    {\n      refs: number,\n      sheet: StyleSheet\n    }\n  >()\n\n  get size(): number {\n    return this.length\n  }\n\n  get(key: Object): ?StyleSheet {\n    const entry = this.sheets.get(key)\n    return entry && entry.sheet\n  }\n\n  add(key: Object, sheet: StyleSheet) {\n    if (this.sheets.has(key)) return\n\n    this.length++\n\n    this.sheets.set(key, {\n      sheet,\n      refs: 0\n    })\n  }\n\n  manage(key: Object): ?StyleSheet {\n    const entry = this.sheets.get(key)\n\n    if (entry) {\n      if (entry.refs === 0) {\n        entry.sheet.attach()\n      }\n\n      entry.refs++\n\n      return entry.sheet\n    }\n\n    warn(false, \"[JSS] SheetsManager: can't find sheet to manage\")\n\n    return undefined\n  }\n\n  unmanage(key: Object) {\n    const entry = this.sheets.get(key)\n\n    if (entry) {\n      if (entry.refs > 0) {\n        entry.refs--\n\n        if (entry.refs === 0) entry.sheet.detach()\n      }\n    } else {\n      warn(false, \"SheetsManager: can't find sheet to unmanage\")\n    }\n  }\n}\n","/* @flow */\n/**\n * A better abstraction over CSS.\n *\n * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present\n * @website https://github.com/cssinjs/jss\n * @license MIT\n */\nimport Jss from './Jss'\nimport type StyleSheet from './StyleSheet'\nimport type {\n  ConditionalRule,\n  KeyframesRule,\n  StyleRule,\n  ViewportRule,\n  SimpleRule,\n  FontFaceRule\n} from './plugins'\nimport type {JssOptions} from './types'\n\n/**\n * Export types for better typing inside plugins and integrations.\n */\nexport type {\n  StyleSheetFactoryOptions,\n  JssValue,\n  JssOptions,\n  JssStyle,\n  Plugin,\n  RuleListOptions,\n  Rule,\n  Renderer,\n  RuleOptions,\n  UpdateOptions,\n  Classes,\n  BaseRule,\n  ContainerRule\n} from './types'\nexport type {GenerateId, CreateGenerateId, CreateGenerateIdOptions} from './utils/createGenerateId'\n\nexport type {\n  Jss,\n  StyleSheet,\n  ConditionalRule,\n  KeyframesRule,\n  StyleRule,\n  ViewportRule,\n  SimpleRule,\n  FontFaceRule\n}\n\n/**\n * Export a constant indicating if this browser has CSSTOM support.\n * https://developers.google.com/web/updates/2018/03/cssom\n */\nexport const hasCSSTOMSupport = typeof CSS !== 'undefined' && CSS && 'number' in CSS\n\n/**\n * Extracts a styles object with only rules that contain function values.\n */\nexport {default as getDynamicStyles} from './utils/getDynamicStyles'\n\n/**\n * Converts JSS array value to a CSS string.\n */\nexport {default as toCssValue} from './utils/toCssValue'\n\n/**\n * Create a rule instance.\n */\nexport {default as createRule} from './utils/createRule'\n\n/**\n * SheetsRegistry for SSR.\n */\nexport {default as SheetsRegistry} from './SheetsRegistry'\n\n/**\n * SheetsManager for react-jss and co.\n */\nexport {default as SheetsManager} from './SheetsManager'\n\n/**\n * RuleList for plugins.\n */\nexport {default as RuleList} from './RuleList'\n\n/**\n * Default global SheetsRegistry instance.\n */\nexport {default as sheets} from './sheets'\n\n/**\n * Class name generator creator.\n */\nexport {default as createGenerateId} from './utils/createGenerateId'\n\n/**\n * Creates a new instance of Jss.\n */\nexport const create = (options?: JssOptions): Jss => new Jss(options)\n\n/**\n * A global Jss instance.\n */\nexport default create()\n"],"names":["plainObjectConstrurctor","constructor","cloneStyle","style","Array","isArray","map","newStyle","name","createRule","decl","options","jss","declCopy","rule","plugins","onCreateRule","warning","setPrototypeOf","join","value","by","result","i","length","toCssValue","ignoreImportant","cssValue","indentStr","str","indent","index","toCss","selector","fallbacks","fallback","prop","allowEmpty","escapeRegex","nativeEscape","CSS","escape","replace","BaseStyleRule","key","type","isProcessed","renderer","renderable","sheet","Renderer","undefined","force","newValue","process","onChangeValue","isEmpty","isDefined","remove","removeProperty","setProperty","attached","StyleRule","selectorText","id","scoped","generateId","applyTo","json","toJSON","toString","link","opts","hasChanged","setSelector","replaceRule","parent","defaultToStringOptions","children","atRegExp","ConditionalRule","styles","at","query","rules","atMatch","match","RuleList","add","getRule","get","indexOf","addOrReplaceRule","isReplace","onProcessRule","addRule","keyRegExp","test","nameRegExp","KeyframesRule","frames","nameMatch","refRegExp","findReferencedKeyframe","val","keyframes","replaceRef","refKeyframe","plugin","onProcessStyle","KeyframeRule","FontFaceRule","ViewportRule","SimpleRule","keysMap","pluginStyleRule","pluginConditionalRule","pluginKeyframesRule","pluginKeyframeRule","pluginFontFaceRule","pluginViewportRule","pluginSimpleRule","defaultUpdateOptions","forceUpdateOptions","raw","counter","classes","ruleOptions","addOrReplace","register","splice","unregister","slice","forEach","update","data","updateOne","styleRule","onUpdate","nextValue","prevValue","css","StyleSheet","deployed","queue","attach","deploy","detach","push","insertRule","addRules","added","deleteRule","PluginsRegistry","internal","external","registry","onProcessSheet","processedValue","use","newPlugin","reduce","SheetsRegistry","reset","window","Math","self","Function","ns","globalThis","maxRules","createGenerateId","ruleCounter","jssId","prefix","classNamePrefix","String","minify","moduleId","memoize","fn","getPropertyValue","cssRule","attributeStyleMap","err","set","message","getHead","document","querySelector","findHigherSheet","insertionPoint","findHighestSheet","findCommentNode","text","head","childNodes","node","nodeType","nodeValue","trim","findPrevNode","sheets","element","parentNode","nextSibling","comment","insertStyle","nextNode","insertBefore","insertionPointElement","appendChild","getNonce","getAttribute","container","maxIndex","cssRules","c","appendRule","createStyle","el","createElement","textContent","DomRenderer","hasInsertedRules","media","meta","setAttribute","nonce","Boolean","removeChild","insertRules","nativeParent","latestNativeParent","parentStyleSheet","ruleStr","nativeRule","getRules","instanceCounter","Jss","version","createGenerateIdDefault","isInBrowser","internalPlugins","setup","apply","createStyleSheet","removeStyleSheet","getDynamicStyles","to","extracted","SheetsManager","WeakMap","entry","has","refs","manage","warn","unmanage","hasCSSTOMSupport","create"],"mappings":";;;;;;EAAe,SAAS,QAAQ,GAAG;EACnC,EAAE,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,UAAU,MAAM,EAAE;EAChD,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EAC/C,MAAM,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AAChC;EACA,MAAM,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE;EAC9B,QAAQ,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE;EAC/D,UAAU,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;EACpC,SAAS;EACT,OAAO;EACP,KAAK;AACL;EACA,IAAI,OAAO,MAAM,CAAC;EAClB,GAAG,CAAC;AACJ;EACA,EAAE,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;EACzC;;EChBA,IAAI,OAAO,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,OAAO,MAAM,CAAC,QAAQ,KAAK,QAAQ,GAAG,UAAU,GAAG,EAAE,EAAE,OAAO,OAAO,GAAG,CAAC,EAAE,GAAG,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,IAAI,OAAO,MAAM,KAAK,UAAU,IAAI,GAAG,CAAC,WAAW,KAAK,MAAM,IAAI,GAAG,KAAK,MAAM,CAAC,SAAS,GAAG,QAAQ,GAAG,OAAO,GAAG,CAAC,EAAE,CAAC;AAC7Q;AACA,EAAO,IAAI,SAAS,GAAG,CAAC,OAAO,MAAM,KAAK,WAAW,GAAG,WAAW,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,QAAQ,IAAI,CAAC,OAAO,QAAQ,KAAK,WAAW,GAAG,WAAW,GAAG,OAAO,CAAC,QAAQ,CAAC,MAAM,QAAQ,IAAI,QAAQ,CAAC,QAAQ,KAAK,CAAC,CAAC;;ECDnN,SAAS,OAAO,CAAC,SAAS,EAAE,OAAO,EAAE;EACrC,EAAE,AAAmB;EACrB,IAAI,IAAI,SAAS,EAAE;EACnB,MAAM,OAAO;EACb,KAAK;AACL;EACA,IAAI,IAAI,IAAI,GAAG,WAAW,GAAG,OAAO,CAAC;AACrC;EACA,IAAI,IAAI,OAAO,OAAO,KAAK,WAAW,EAAE;EACxC,MAAM,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;EACzB,KAAK;AACL;EACA,IAAI,IAAI;EACR,MAAM,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC;EACxB,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE;EAClB,GAAG;EACH,CAAC;;ECfD,IAAMA,uBAAuB,GAAG,GAAGC,WAAnC;AAEA,EAAe,SAASC,UAAT,CAAoBC,KAApB,EAA+C;EAC5D,MAAIA,KAAK,IAAI,IAAT,IAAiB,OAAOA,KAAP,KAAiB,QAAtC,EAAgD,OAAOA,KAAP;EAChD,MAAIC,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAJ,EAA0B,OAAOA,KAAK,CAACG,GAAN,CAAUJ,UAAV,CAAP;EAC1B,MAAIC,KAAK,CAACF,WAAN,KAAsBD,uBAA1B,EAAmD,OAAOG,KAAP;EAEnD,MAAMI,QAAQ,GAAG,EAAjB;;EACA,OAAK,IAAMC,IAAX,IAAmBL,KAAnB,EAA0B;EACxBI,IAAAA,QAAQ,CAACC,IAAD,CAAR,GAAiBN,UAAU,CAACC,KAAK,CAACK,IAAD,CAAN,CAA3B;EACD;;EACD,SAAOD,QAAP;EACD;;ECTD;EACA;EACA;;AACA,EAAe,SAASE,UAAT,CACbD,IADa,EAEbE,IAFa,EAGbC,OAHa,EAIA;EAAA,MAHbH,IAGa;EAHbA,IAAAA,IAGa,GAHE,SAGF;EAAA;;EAAA,MACNI,GADM,GACCD,OADD,CACNC,GADM;EAEb,MAAMC,QAAQ,GAAGX,UAAU,CAACQ,IAAD,CAA3B;EAEA,MAAMI,IAAI,GAAGF,GAAG,CAACG,OAAJ,CAAYC,YAAZ,CAAyBR,IAAzB,EAA+BK,QAA/B,EAAyCF,OAAzC,CAAb;EACA,MAAIG,IAAJ,EAAU,OAAOA,IAAP,CALG;;EAQb,MAAIN,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAhB,EAAqB;EACnB,KAAAS,OAAO,CAAC,KAAD,0BAA8BT,IAA9B,CAAP;EACD;;EAED,SAAO,IAAP;EACD;;ECzBD,SAAS,iBAAiB,CAAC,MAAM,EAAE,KAAK,EAAE;EAC1C,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EACzC,IAAI,IAAI,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;EAC9B,IAAI,UAAU,CAAC,UAAU,GAAG,UAAU,CAAC,UAAU,IAAI,KAAK,CAAC;EAC3D,IAAI,UAAU,CAAC,YAAY,GAAG,IAAI,CAAC;EACnC,IAAI,IAAI,OAAO,IAAI,UAAU,EAAE,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;EAC1D,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,UAAU,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;EAC9D,GAAG;EACH,CAAC;AACD;AACA,EAAe,SAAS,YAAY,CAAC,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE;EAC3E,EAAE,IAAI,UAAU,EAAE,iBAAiB,CAAC,WAAW,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;EACvE,EAAE,IAAI,WAAW,EAAE,iBAAiB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;EAC/D,EAAE,OAAO,WAAW,CAAC;EACrB;;GAAC,DCdc,SAAS,sBAAsB,CAAC,IAAI,EAAE;EACrD,EAAE,IAAI,IAAI,KAAK,KAAK,CAAC,EAAE;EACvB,IAAI,MAAM,IAAI,cAAc,CAAC,2DAA2D,CAAC,CAAC;EAC1F,GAAG;AACH;EACA,EAAE,OAAO,IAAI,CAAC;EACd;;GAAC,DCNc,SAAS,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE;EAC9C,EAAE,eAAe,GAAG,MAAM,CAAC,cAAc,IAAI,SAAS,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5E,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC;EACpB,IAAI,OAAO,CAAC,CAAC;EACb,GAAG,CAAC;AACJ;EACA,EAAE,OAAO,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC/B;;GAAC,DCNc,SAAS,cAAc,CAAC,QAAQ,EAAE,UAAU,EAAE;EAC7D,EAAE,QAAQ,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;EAC3D,EAAE,QAAQ,CAAC,SAAS,CAAC,WAAW,GAAG,QAAQ,CAAC;EAC5C,EAAEU,eAAc,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;EACvC;;ECHA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,KAAD,EAAQC,EAAR,EAAe;EAC1B,MAAIC,MAAM,GAAG,EAAb;;EACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;EACrC;EACA,QAAIH,KAAK,CAACG,CAAD,CAAL,KAAa,YAAjB,EAA+B;EAC/B,QAAID,MAAJ,EAAYA,MAAM,IAAID,EAAV;EACZC,IAAAA,MAAM,IAAIF,KAAK,CAACG,CAAD,CAAf;EACD;;EACD,SAAOD,MAAP;EACD,CATD;EAWA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;;AACA,EAAe,SAASG,UAAT,CAAoBL,KAApB,EAAgCM,eAAhC,EAAkE;EAAA,MAAlCA,eAAkC;EAAlCA,IAAAA,eAAkC,GAAP,KAAO;EAAA;;EAC/E,MAAI,CAACtB,KAAK,CAACC,OAAN,CAAce,KAAd,CAAL,EAA2B,OAAOA,KAAP;EAE3B,MAAIO,QAAQ,GAAG,EAAf,CAH+E;;EAM/E,MAAIvB,KAAK,CAACC,OAAN,CAAce,KAAK,CAAC,CAAD,CAAnB,CAAJ,EAA6B;EAC3B,SAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;EACrC,UAAIH,KAAK,CAACG,CAAD,CAAL,KAAa,YAAjB,EAA+B;EAC/B,UAAII,QAAJ,EAAcA,QAAQ,IAAI,IAAZ;EACdA,MAAAA,QAAQ,IAAIR,IAAI,CAACC,KAAK,CAACG,CAAD,CAAN,EAAW,GAAX,CAAhB;EACD;EACF,GAND,MAMOI,QAAQ,GAAGR,IAAI,CAACC,KAAD,EAAQ,IAAR,CAAf,CAZwE;;;EAe/E,MAAI,CAACM,eAAD,IAAoBN,KAAK,CAACA,KAAK,CAACI,MAAN,GAAe,CAAhB,CAAL,KAA4B,YAApD,EAAkE;EAChEG,IAAAA,QAAQ,IAAI,aAAZ;EACD;;EAED,SAAOA,QAAP;EACD;;ECrCD;EACA;EACA;EACA;EACA,SAASC,SAAT,CAAmBC,GAAnB,EAAgCC,MAAhC,EAAwD;EACtD,MAAIR,MAAM,GAAG,EAAb;;EACA,OAAK,IAAIS,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,MAA5B,EAAoCC,KAAK,EAAzC;EAA6CT,IAAAA,MAAM,IAAI,IAAV;EAA7C;;EACA,SAAOA,MAAM,GAAGO,GAAhB;EACD;EAED;EACA;EACA;;;AACA,EAAe,SAASG,KAAT,CACbC,QADa,EAEb9B,KAFa,EAGbQ,OAHa,EAIL;EAAA,MADRA,OACQ;EADRA,IAAAA,OACQ,GADgB,EAChB;EAAA;;EACR,MAAIW,MAAM,GAAG,EAAb;EAEA,MAAI,CAACnB,KAAL,EAAY,OAAOmB,MAAP;EAHJ,iBAKWX,OALX;EAAA,iCAKHmB,MALG;EAAA,MAKHA,MALG,gCAKM,CALN;EAAA,MAMDI,SANC,GAMY/B,KANZ,CAMD+B,SANC;EAQR,MAAID,QAAJ,EAAcH,MAAM,GARZ;;EAWR,MAAII,SAAJ,EAAe;EACb;EACA,QAAI9B,KAAK,CAACC,OAAN,CAAc6B,SAAd,CAAJ,EAA8B;EAC5B,WAAK,IAAIH,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGG,SAAS,CAACV,MAAtC,EAA8CO,KAAK,EAAnD,EAAuD;EACrD,YAAMI,QAAQ,GAAGD,SAAS,CAACH,KAAD,CAA1B;;EACA,aAAK,IAAMK,IAAX,IAAmBD,QAAnB,EAA6B;EAC3B,cAAMf,KAAK,GAAGe,QAAQ,CAACC,IAAD,CAAtB;;EACA,cAAIhB,KAAK,IAAI,IAAb,EAAmB;EACjB,gBAAIE,MAAJ,EAAYA,MAAM,IAAI,IAAV;EACZA,YAAAA,MAAM,SAAOM,SAAS,CAAIQ,IAAJ,UAAaX,UAAU,CAACL,KAAD,CAAvB,QAAmCU,MAAnC,CAAtB;EACD;EACF;EACF;EACF,KAXD,MAWO;EACL;EACA,WAAK,IAAMM,KAAX,IAAmBF,SAAnB,EAA8B;EAC5B,YAAMd,MAAK,GAAGc,SAAS,CAACE,KAAD,CAAvB;;EACA,YAAIhB,MAAK,IAAI,IAAb,EAAmB;EACjB,cAAIE,MAAJ,EAAYA,MAAM,IAAI,IAAV;EACZA,UAAAA,MAAM,SAAOM,SAAS,CAAIQ,KAAJ,UAAaX,UAAU,CAACL,MAAD,CAAvB,QAAmCU,MAAnC,CAAtB;EACD;EACF;EACF;EACF;;EAED,OAAK,IAAMM,MAAX,IAAmBjC,KAAnB,EAA0B;EACxB,QAAMiB,OAAK,GAAGjB,KAAK,CAACiC,MAAD,CAAnB;;EACA,QAAIhB,OAAK,IAAI,IAAT,IAAiBgB,MAAI,KAAK,WAA9B,EAA2C;EACzC,UAAId,MAAJ,EAAYA,MAAM,IAAI,IAAV;EACZA,MAAAA,MAAM,SAAOM,SAAS,CAAIQ,MAAJ,UAAaX,UAAU,CAACL,OAAD,CAAvB,QAAmCU,MAAnC,CAAtB;EACD;EACF,GA1CO;;;EA6CR,MAAI,CAACR,MAAD,IAAW,CAACX,OAAO,CAAC0B,UAAxB,EAAoC,OAAOf,MAAP,CA7C5B;;EAgDR,MAAI,CAACW,QAAL,EAAe,OAAOX,MAAP;EAEfQ,EAAAA,MAAM;EAEN,MAAIR,MAAJ,EAAYA,MAAM,UAAQA,MAAR,OAAN;EAEZ,SAAOM,SAAS,CAAIK,QAAJ,UAAiBX,MAAjB,EAA2BQ,MAA3B,CAAT,GAA8CF,SAAS,CAAC,GAAD,EAAME,MAAN,CAA9D;EACD;;EC5ED,IAAMQ,WAAW,GAAG,8BAApB;EACA,IAAMC,YAAY,GAAG,OAAOC,GAAP,KAAe,WAAf,IAA8BA,GAAG,CAACC,MAAvD;AAEA,gBAAe,UAAAZ,GAAG;EAAA,SAAKU,YAAY,GAAGA,YAAY,CAACV,GAAD,CAAf,GAAuBA,GAAG,CAACa,OAAJ,CAAYJ,WAAZ,EAAyB,MAAzB,CAAxC;EAAA,CAAlB;;MCcaK,aAAb;EAeE,yBAAYC,GAAZ,EAAyBzC,KAAzB,EAA0CQ,OAA1C,EAAgE;EAAA,SAdhEkC,IAcgE,GAdzD,OAcyD;EAAA,SAZhED,GAYgE;EAAA,SAVhEE,WAUgE,GAVzC,KAUyC;EAAA,SARhE3C,KAQgE;EAAA,SANhE4C,QAMgE;EAAA,SAJhEC,UAIgE;EAAA,SAFhErC,OAEgE;EAAA,QACvDsC,KADuD,GACpCtC,OADoC,CACvDsC,KADuD;EAAA,QAChDC,QADgD,GACpCvC,OADoC,CAChDuC,QADgD;EAE9D,SAAKN,GAAL,GAAWA,GAAX;EACA,SAAKjC,OAAL,GAAeA,OAAf;EACA,SAAKR,KAAL,GAAaA,KAAb;EACA,QAAI8C,KAAJ,EAAW,KAAKF,QAAL,GAAgBE,KAAK,CAACF,QAAtB,CAAX,KACK,IAAIG,QAAJ,EAAc,KAAKH,QAAL,GAAgB,IAAIG,QAAJ,EAAhB;EACpB;EAED;EACF;EACA;;;EA1BA;;EAAA,SA2BEd,IA3BF,GA2BE,cAAK5B,IAAL,EAAmBY,KAAnB,EAAqCT,OAArC,EAA6E;EAC3E;EACA,QAAIS,KAAK,KAAK+B,SAAd,EAAyB,OAAO,KAAKhD,KAAL,CAAWK,IAAX,CAAP,CAFkD;;EAK3E,QAAM4C,KAAK,GAAGzC,OAAO,GAAGA,OAAO,CAACyC,KAAX,GAAmB,KAAxC;EACA,QAAI,CAACA,KAAD,IAAU,KAAKjD,KAAL,CAAWK,IAAX,MAAqBY,KAAnC,EAA0C,OAAO,IAAP;EAE1C,QAAIiC,QAAQ,GAAGjC,KAAf;;EACA,QAAI,CAACT,OAAD,IAAYA,OAAO,CAAC2C,OAAR,KAAoB,KAApC,EAA2C;EACzCD,MAAAA,QAAQ,GAAG,KAAK1C,OAAL,CAAaC,GAAb,CAAiBG,OAAjB,CAAyBwC,aAAzB,CAAuCnC,KAAvC,EAA8CZ,IAA9C,EAAoD,IAApD,CAAX;EACD;;EAED,QAAMgD,OAAO,GAAGH,QAAQ,IAAI,IAAZ,IAAoBA,QAAQ,KAAK,KAAjD;EACA,QAAMI,SAAS,IAAGjD,IAAI,IAAI,KAAKL,KAAhB,CAAf,CAd2E;;EAiB3E,QAAIqD,OAAO,IAAI,CAACC,SAAZ,IAAyB,CAACL,KAA9B,EAAqC,OAAO,IAAP,CAjBsC;;EAoB3E,QAAMM,MAAM,GAAGF,OAAO,IAAIC,SAA1B;EAEA,QAAIC,MAAJ,EAAY,OAAO,KAAKvD,KAAL,CAAWK,IAAX,CAAP,CAAZ,KACK,KAAKL,KAAL,CAAWK,IAAX,IAAmB6C,QAAnB,CAvBsE;;EA0B3E,QAAI,KAAKL,UAAL,IAAmB,KAAKD,QAA5B,EAAsC;EACpC,UAAIW,MAAJ,EAAY,KAAKX,QAAL,CAAcY,cAAd,CAA6B,KAAKX,UAAlC,EAA8CxC,IAA9C,EAAZ,KACK,KAAKuC,QAAL,CAAca,WAAd,CAA0B,KAAKZ,UAA/B,EAA2CxC,IAA3C,EAAiD6C,QAAjD;EACL,aAAO,IAAP;EACD;;EA9B0E,QAgCpEJ,KAhCoE,GAgC3D,KAAKtC,OAhCsD,CAgCpEsC,KAhCoE;;EAiC3E,QAAIA,KAAK,IAAIA,KAAK,CAACY,QAAnB,EAA6B;EAC3B,OAAA5C,OAAO,CAAC,KAAD,EAAQ,8DAAR,CAAP;EACD;;EACD,WAAO,IAAP;EACD,GAhEH;;EAAA;EAAA;AAmEA,MAAa6C,SAAb;EAAA;;EAOE,qBAAYlB,GAAZ,EAAyBzC,KAAzB,EAA0CQ,OAA1C,EAAgE;EAAA;;EAC9D,sCAAMiC,GAAN,EAAWzC,KAAX,EAAkBQ,OAAlB;EAD8D,UANhEoD,YAMgE;EAAA,UAJhEC,EAIgE;EAAA,UAFhEhB,UAEgE;EAAA,QAEvDf,QAFuD,GAEhBtB,OAFgB,CAEvDsB,QAFuD;EAAA,QAE7CgC,MAF6C,GAEhBtD,OAFgB,CAE7CsD,MAF6C;EAAA,QAErChB,KAFqC,GAEhBtC,OAFgB,CAErCsC,KAFqC;EAAA,QAE9BiB,UAF8B,GAEhBvD,OAFgB,CAE9BuD,UAF8B;;EAG9D,QAAIjC,QAAJ,EAAc;EACZ,YAAK8B,YAAL,GAAoB9B,QAApB;EACD,KAFD,MAEO,IAAIgC,MAAM,KAAK,KAAf,EAAsB;EAC3B,YAAKD,EAAL,GAAUE,UAAU,gCAAOjB,KAAP,CAApB;EACA,YAAKc,YAAL,SAAwBtB,MAAM,CAAC,MAAKuB,EAAN,CAA9B;EACD;;EAR6D;EAS/D;EAED;EACF;EACA;EACA;EACA;;;EAtBA;;EA+CE;EACF;EACA;EAjDA,UAkDEG,OAlDF,GAkDE,iBAAQnB,UAAR,EAAmD;EAAA,QAC1CD,QAD0C,GAC9B,IAD8B,CAC1CA,QAD0C;;EAEjD,QAAIA,QAAJ,EAAc;EACZ,UAAMqB,IAAI,GAAG,KAAKC,MAAL,EAAb;;EACA,WAAK,IAAMjC,IAAX,IAAmBgC,IAAnB,EAAyB;EACvBrB,QAAAA,QAAQ,CAACa,WAAT,CAAqBZ,UAArB,EAAiCZ,IAAjC,EAAuCgC,IAAI,CAAChC,IAAD,CAA3C;EACD;EACF;;EACD,WAAO,IAAP;EACD;EAED;EACF;EACA;EACA;EACA;EAjEA;;EAAA,UAkEEiC,MAlEF,GAkEE,kBAAiB;EACf,QAAMD,IAAI,GAAG,EAAb;;EACA,SAAK,IAAMhC,IAAX,IAAmB,KAAKjC,KAAxB,EAA+B;EAC7B,UAAMiB,KAAK,GAAG,KAAKjB,KAAL,CAAWiC,IAAX,CAAd;EACA,UAAI,OAAOhB,KAAP,KAAiB,QAArB,EAA+BgD,IAAI,CAAChC,IAAD,CAAJ,GAAahB,KAAb,CAA/B,KACK,IAAIhB,KAAK,CAACC,OAAN,CAAce,KAAd,CAAJ,EAA0BgD,IAAI,CAAChC,IAAD,CAAJ,GAAaX,UAAU,CAACL,KAAD,CAAvB;EAChC;;EACD,WAAOgD,IAAP;EACD;EAED;EACF;EACA;EA9EA;;EAAA,UA+EEE,QA/EF,GA+EE,kBAAS3D,OAAT,EAAyC;EAAA,QAChCsC,KADgC,GACvB,KAAKtC,OADkB,CAChCsC,KADgC;EAEvC,QAAMsB,IAAI,GAAGtB,KAAK,GAAGA,KAAK,CAACtC,OAAN,CAAc4D,IAAjB,GAAwB,KAA1C;EACA,QAAMC,IAAI,GAAGD,IAAI,gBAAO5D,OAAP;EAAgB0B,MAAAA,UAAU,EAAE;EAA5B,SAAoC1B,OAArD;EACA,WAAOqB,KAAK,CAAC,KAAK+B,YAAN,EAAoB,KAAK5D,KAAzB,EAAgCqE,IAAhC,CAAZ;EACD,GApFH;;EAAA;EAAA;EAAA;EAwCE;EACF;EACA;EACE,mBAAuB;EACrB,aAAO,KAAKT,YAAZ;EACD,KA7CH;EAAA,SAuBE,aAAa9B,QAAb,EAAqC;EACnC,UAAIA,QAAQ,KAAK,KAAK8B,YAAtB,EAAoC;EAEpC,WAAKA,YAAL,GAAoB9B,QAApB;EAHmC,UAK5Bc,QAL4B,GAKJ,IALI,CAK5BA,QAL4B;EAAA,UAKlBC,UALkB,GAKJ,IALI,CAKlBA,UALkB;EAOnC,UAAI,CAACA,UAAD,IAAe,CAACD,QAApB,EAA8B;EAE9B,UAAM0B,UAAU,GAAG1B,QAAQ,CAAC2B,WAAT,CAAqB1B,UAArB,EAAiCf,QAAjC,CAAnB,CATmC;;EAYnC,UAAI,CAACwC,UAAL,EAAiB;EACf1B,QAAAA,QAAQ,CAAC4B,WAAT,CAAqB3B,UAArB,EAAiC,IAAjC;EACD;EACF;EAtCH;;EAAA;EAAA,EAA+BL,aAA/B;AAuFA,wBAAe;EACb3B,EAAAA,YADa,wBACAR,IADA,EACcL,KADd,EAC+BQ,OAD/B,EACuE;EAClF,QAAIH,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAZ,IAAoBG,OAAO,CAACiE,MAAR,IAAkBjE,OAAO,CAACiE,MAAR,CAAe/B,IAAf,KAAwB,WAAlE,EAAgF;EAC9E,aAAO,IAAP;EACD;;EACD,WAAO,IAAIiB,SAAJ,CAActD,IAAd,EAAoBL,KAApB,EAA2BQ,OAA3B,CAAP;EACD;EANY,CAAf;;ECvKA,IAAMkE,sBAAsB,GAAG;EAC7B/C,EAAAA,MAAM,EAAE,CADqB;EAE7BgD,EAAAA,QAAQ,EAAE;EAFmB,CAA/B;EAKA,IAAMC,QAAQ,GAAG,WAAjB;EAEA;EACA;EACA;;AACA,MAAaC,eAAb;EAiBE,2BAAYpC,GAAZ,EAAyBqC,MAAzB,EAAyCtE,OAAzC,EAA+D;EAAA,SAhB/DkC,IAgB+D,GAhBxD,aAgBwD;EAAA,SAd/DqC,EAc+D;EAAA,SAZ/DtC,GAY+D;EAAA,SAV/DuC,KAU+D;EAAA,SAR/DC,KAQ+D;EAAA,SAN/DzE,OAM+D;EAAA,SAJ/DmC,WAI+D,GAJxC,KAIwC;EAAA,SAF/DE,UAE+D;EAC7D,SAAKJ,GAAL,GAAWA,GAAX,CAD6D;;EAG7D,SAAKuC,KAAL,GAAaxE,OAAO,CAACH,IAArB;EACA,QAAM6E,OAAO,GAAGzC,GAAG,CAAC0C,KAAJ,CAAUP,QAAV,CAAhB;EACA,SAAKG,EAAL,GAAUG,OAAO,GAAGA,OAAO,CAAC,CAAD,CAAV,GAAgB,SAAjC;EACA,SAAK1E,OAAL,GAAeA,OAAf;EACA,SAAKyE,KAAL,GAAa,IAAIG,QAAJ,cAAiB5E,OAAjB;EAA0BiE,MAAAA,MAAM,EAAE;EAAlC,OAAb;;EAEA,SAAK,IAAMpE,IAAX,IAAmByE,MAAnB,EAA2B;EACzB,WAAKG,KAAL,CAAWI,GAAX,CAAehF,IAAf,EAAqByE,MAAM,CAACzE,IAAD,CAA3B;EACD;;EAED,SAAK4E,KAAL,CAAW9B,OAAX;EACD;EAED;EACF;EACA;;;EAnCA;;EAAA,SAoCEmC,OApCF,GAoCE,iBAAQjF,IAAR,EAA4B;EAC1B,WAAO,KAAK4E,KAAL,CAAWM,GAAX,CAAelF,IAAf,CAAP;EACD;EAED;EACF;EACA;EA1CA;;EAAA,SA2CEmF,OA3CF,GA2CE,iBAAQ7E,IAAR,EAA4B;EAC1B,WAAO,KAAKsE,KAAL,CAAWO,OAAX,CAAmB7E,IAAnB,CAAP;EACD;EAED;EACF;EACA;EAjDA;;EAAA,SAkDE8E,gBAlDF,GAkDE,0BACEpF,IADF,EAEEL,KAFF,EAGE0F,SAHF,EAIElF,OAJF,EAKe;EACb,QAAMG,IAAI,GAAG+E,SAAS,GAClB,KAAKT,KAAL,CAAW1C,OAAX,CAAmBlC,IAAnB,EAAyBL,KAAzB,EAAgCQ,OAAhC,CADkB,GAElB,KAAKyE,KAAL,CAAWI,GAAX,CAAehF,IAAf,EAAqBL,KAArB,EAA4BQ,OAA5B,CAFJ;EAGA,QAAI,CAACG,IAAL,EAAW,OAAO,IAAP;EACX,SAAKH,OAAL,CAAaC,GAAb,CAAiBG,OAAjB,CAAyB+E,aAAzB,CAAuChF,IAAvC;EACA,WAAOA,IAAP;EACD,GA9DH;;EAAA,SAgEEiF,OAhEF,GAgEE,iBAAQvF,IAAR,EAAsBL,KAAtB,EAAuCQ,OAAvC,EAA2E;EACzE,WAAO,KAAKiF,gBAAL,CAAsBpF,IAAtB,EAA4BL,KAA5B,EAAmC,KAAnC,EAA0CQ,OAA1C,CAAP;EACD;EAED;EACF;EACA;EAtEA;;EAAA,SAuEEgE,WAvEF,GAuEE,qBAAYnE,IAAZ,EAA0BL,KAA1B,EAA2CQ,OAA3C,EAA+E;EAC7E,WAAO,KAAKiF,gBAAL,CAAsBpF,IAAtB,EAA4BL,KAA5B,EAAmC,IAAnC,EAAyCQ,OAAzC,CAAP;EACD;EAED;EACF;EACA;EA7EA;;EAAA,SA8EE2D,QA9EF,GA8EE,kBAAS3D,OAAT,EAAkE;EAAA,QAAzDA,OAAyD;EAAzDA,MAAAA,OAAyD,GAAhCkE,sBAAgC;EAAA;;EAChE,QAAIlE,OAAO,CAACmB,MAAR,IAAkB,IAAtB,EAA4BnB,OAAO,CAACmB,MAAR,GAAiB+C,sBAAsB,CAAC/C,MAAxC;EAC5B,QAAInB,OAAO,CAACmE,QAAR,IAAoB,IAAxB,EAA8BnE,OAAO,CAACmE,QAAR,GAAmBD,sBAAsB,CAACC,QAA1C;;EAC9B,QAAInE,OAAO,CAACmE,QAAR,KAAqB,KAAzB,EAAgC;EAC9B,aAAU,KAAKK,KAAf;EACD;;EACD,QAAML,QAAQ,GAAG,KAAKM,KAAL,CAAWd,QAAX,CAAoB3D,OAApB,CAAjB;EACA,WAAOmE,QAAQ,GAAM,KAAKK,KAAX,YAAuBL,QAAvB,WAAuC,EAAtD;EACD,GAtFH;;EAAA;EAAA;EAyFA,IAAMkB,SAAS,GAAG,qBAAlB;AAEA,8BAAe;EACbhF,EAAAA,YADa,wBACA4B,GADA,EACaqC,MADb,EAC+BtE,OAD/B,EAC6E;EACxF,WAAOqF,SAAS,CAACC,IAAV,CAAerD,GAAf,IAAsB,IAAIoC,eAAJ,CAAoBpC,GAApB,EAAyBqC,MAAzB,EAAiCtE,OAAjC,CAAtB,GAAkE,IAAzE;EACD;EAHY,CAAf;;EC3FA,IAAMkE,wBAAsB,GAAG;EAC7B/C,EAAAA,MAAM,EAAE,CADqB;EAE7BgD,EAAAA,QAAQ,EAAE;EAFmB,CAA/B;EAKA,IAAMoB,UAAU,GAAG,uBAAnB;EAEA;EACA;EACA;;AACA,MAAaC,aAAb;EAmBE,yBAAYvD,GAAZ,EAAyBwD,MAAzB,EAAyCzF,OAAzC,EAA+D;EAAA,SAlB/DkC,IAkB+D,GAlBxD,WAkBwD;EAAA,SAhB/DqC,EAgB+D,GAhBlD,YAgBkD;EAAA,SAd/DtC,GAc+D;EAAA,SAZ/DpC,IAY+D;EAAA,SAV/DwD,EAU+D;EAAA,SAR/DoB,KAQ+D;EAAA,SAN/DzE,OAM+D;EAAA,SAJ/DmC,WAI+D,GAJxC,KAIwC;EAAA,SAF/DE,UAE+D;EAC7D,QAAMqD,SAAS,GAAGzD,GAAG,CAAC0C,KAAJ,CAAUY,UAAV,CAAlB;;EACA,QAAIG,SAAS,IAAIA,SAAS,CAAC,CAAD,CAA1B,EAA+B;EAC7B,WAAK7F,IAAL,GAAY6F,SAAS,CAAC,CAAD,CAArB;EACD,KAFD,MAEO;EACL,WAAK7F,IAAL,GAAY,QAAZ;EACA,OAAAS,OAAO,CAAC,KAAD,gCAAoC2B,GAApC,CAAP;EACD;;EACD,SAAKA,GAAL,GAAc,KAAKC,IAAnB,SAA2B,KAAKrC,IAAhC;EACA,SAAKG,OAAL,GAAeA,OAAf;EAT6D,QAUtDsD,MAVsD,GAUzBtD,OAVyB,CAUtDsD,MAVsD;EAAA,QAU9ChB,KAV8C,GAUzBtC,OAVyB,CAU9CsC,KAV8C;EAAA,QAUvCiB,UAVuC,GAUzBvD,OAVyB,CAUvCuD,UAVuC;EAW7D,SAAKF,EAAL,GAAUC,MAAM,KAAK,KAAX,GAAmB,KAAKzD,IAAxB,GAA+BiC,MAAM,CAACyB,UAAU,CAAC,IAAD,EAAOjB,KAAP,CAAX,CAA/C;EACA,SAAKmC,KAAL,GAAa,IAAIG,QAAJ,cAAiB5E,OAAjB;EAA0BiE,MAAAA,MAAM,EAAE;EAAlC,OAAb;;EAEA,SAAK,IAAMpE,IAAX,IAAmB4F,MAAnB,EAA2B;EACzB,WAAKhB,KAAL,CAAWI,GAAX,CAAehF,IAAf,EAAqB4F,MAAM,CAAC5F,IAAD,CAA3B,eACKG,OADL;EAEEiE,QAAAA,MAAM,EAAE;EAFV;EAID;;EAED,SAAKQ,KAAL,CAAW9B,OAAX;EACD;EAED;EACF;EACA;;;EA7CA;;EAAA,SA8CEgB,QA9CF,GA8CE,kBAAS3D,OAAT,EAAkE;EAAA,QAAzDA,OAAyD;EAAzDA,MAAAA,OAAyD,GAAhCkE,wBAAgC;EAAA;;EAChE,QAAIlE,OAAO,CAACmB,MAAR,IAAkB,IAAtB,EAA4BnB,OAAO,CAACmB,MAAR,GAAiB+C,wBAAsB,CAAC/C,MAAxC;EAC5B,QAAInB,OAAO,CAACmE,QAAR,IAAoB,IAAxB,EAA8BnE,OAAO,CAACmE,QAAR,GAAmBD,wBAAsB,CAACC,QAA1C;;EAC9B,QAAInE,OAAO,CAACmE,QAAR,KAAqB,KAAzB,EAAgC;EAC9B,aAAU,KAAKI,EAAf,SAAqB,KAAKlB,EAA1B;EACD;;EACD,QAAIc,QAAQ,GAAG,KAAKM,KAAL,CAAWd,QAAX,CAAoB3D,OAApB,CAAf;EACA,QAAImE,QAAJ,EAAcA,QAAQ,UAAQA,QAAR,OAAR;EACd,WAAU,KAAKI,EAAf,SAAqB,KAAKlB,EAA1B,UAAiCc,QAAjC;EACD,GAvDH;;EAAA;EAAA;EA0DA,IAAMkB,WAAS,GAAG,eAAlB;EAEA,IAAMM,SAAS,GAAG,aAAlB;;EAEA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,GAAD,EAAMC,SAAN,EAAoB;EACjD,MAAI,OAAOD,GAAP,KAAe,QAAnB,EAA6B;EAC3B,WAAOA,GAAG,CAAC9D,OAAJ,CAAY4D,SAAZ,EAAuB,UAAChB,KAAD,EAAQ9E,IAAR,EAAiB;EAC7C,UAAIA,IAAI,IAAIiG,SAAZ,EAAuB;EACrB,eAAOA,SAAS,CAACjG,IAAD,CAAhB;EACD;;EAED,OAAAS,OAAO,CAAC,KAAD,yCAA4CT,IAA5C,wBAAP;EAEA,aAAO8E,KAAP;EACD,KARM,CAAP;EASD;;EAED,SAAOkB,GAAP;EACD,CAdD;EAgBA;EACA;EACA;;;EACA,IAAME,UAAU,GAAG,SAAbA,UAAa,CAACvG,KAAD,EAAkBiC,IAAlB,EAAgCqE,SAAhC,EAA4D;EAC7E,MAAMrF,KAAK,GAAGjB,KAAK,CAACiC,IAAD,CAAnB;EACA,MAAMuE,WAAW,GAAGJ,sBAAsB,CAACnF,KAAD,EAAQqF,SAAR,CAA1C;;EAEA,MAAIE,WAAW,KAAKvF,KAApB,EAA2B;EACzBjB,IAAAA,KAAK,CAACiC,IAAD,CAAL,GAAcuE,WAAd;EACD;EACF,CAPD;;EASA,IAAMC,MAAc,GAAG;EACrB5F,EAAAA,YADqB,wBACR4B,GADQ,EACHwD,MADG,EACKzF,OADL,EACc;EACjC,WAAO,OAAOiC,GAAP,KAAe,QAAf,IAA2BoD,WAAS,CAACC,IAAV,CAAerD,GAAf,CAA3B,GACH,IAAIuD,aAAJ,CAAkBvD,GAAlB,EAAuBwD,MAAvB,EAA+BzF,OAA/B,CADG,GAEH,IAFJ;EAGD,GALoB;EAOrB;EACAkG,EAAAA,cAAc,EAAE,wBAAC1G,KAAD,EAAQW,IAAR,EAAcmC,KAAd,EAAwB;EACtC,QAAInC,IAAI,CAAC+B,IAAL,KAAc,OAAd,IAAyB,CAACI,KAA9B,EAAqC,OAAO9C,KAAP;EAErC,QAAI,oBAAoBA,KAAxB,EAA+BuG,UAAU,CAACvG,KAAD,EAAQ,gBAAR,EAA0B8C,KAAK,CAACwD,SAAhC,CAAV;EAC/B,QAAI,eAAetG,KAAnB,EAA0BuG,UAAU,CAACvG,KAAD,EAAQ,WAAR,EAAqB8C,KAAK,CAACwD,SAA3B,CAAV;EAC1B,WAAOtG,KAAP;EACD,GAdoB;EAgBrBoD,EAAAA,aAhBqB,yBAgBPiD,GAhBO,EAgBFpE,IAhBE,EAgBItB,IAhBJ,EAgBU;EAAA,QACtBmC,KADsB,GACbnC,IAAI,CAACH,OADQ,CACtBsC,KADsB;;EAG7B,QAAI,CAACA,KAAL,EAAY;EACV,aAAOuD,GAAP;EACD;;EAED,YAAQpE,IAAR;EACE,WAAK,WAAL;EACE,eAAOmE,sBAAsB,CAACC,GAAD,EAAMvD,KAAK,CAACwD,SAAZ,CAA7B;;EACF,WAAK,gBAAL;EACE,eAAOF,sBAAsB,CAACC,GAAD,EAAMvD,KAAK,CAACwD,SAAZ,CAA7B;;EACF;EACE,eAAOD,GAAP;EANJ;EAQD;EA/BoB,CAAvB;;MC7GaM,YAAb;EAAA;;EAAA;EAAA;;EAAA;EAAA;EAAA;;EAAA;EAAA,UACE9D,UADF;EAAA;EAAA;;EAAA;;EAGE;EACF;EACA;EALA,SAMEsB,QANF,GAME,kBAAS3D,OAAT,EAAyC;EAAA,QAChCsC,KADgC,GACvB,KAAKtC,OADkB,CAChCsC,KADgC;EAEvC,QAAMsB,IAAI,GAAGtB,KAAK,GAAGA,KAAK,CAACtC,OAAN,CAAc4D,IAAjB,GAAwB,KAA1C;EACA,QAAMC,IAAI,GAAGD,IAAI,gBAAO5D,OAAP;EAAgB0B,MAAAA,UAAU,EAAE;EAA5B,SAAoC1B,OAArD;EACA,WAAOqB,KAAK,CAAC,KAAKY,GAAN,EAAW,KAAKzC,KAAhB,EAAuBqE,IAAvB,CAAZ;EACD,GAXH;;EAAA;EAAA,EAAkC7B,aAAlC;AAcA,2BAAe;EACb3B,EAAAA,YADa,wBACA4B,GADA,EACazC,KADb,EAC8BQ,OAD9B,EACyE;EACpF,QAAIA,OAAO,CAACiE,MAAR,IAAkBjE,OAAO,CAACiE,MAAR,CAAe/B,IAAf,KAAwB,WAA9C,EAA2D;EACzD,aAAO,IAAIiE,YAAJ,CAAiBlE,GAAjB,EAAsBzC,KAAtB,EAA6BQ,OAA7B,CAAP;EACD;;EACD,WAAO,IAAP;EACD;EANY,CAAf;;MCfaoG,YAAb;EAeE,wBAAYnE,GAAZ,EAAyBzC,KAAzB,EAA0CQ,OAA1C,EAAgE;EAAA,SAdhEkC,IAcgE,GAdzD,WAcyD;EAAA,SAZhEqC,EAYgE,GAZnD,YAYmD;EAAA,SAVhEtC,GAUgE;EAAA,SARhEzC,KAQgE;EAAA,SANhEQ,OAMgE;EAAA,SAJhEmC,WAIgE,GAJzC,KAIyC;EAAA,SAFhEE,UAEgE;EAC9D,SAAKJ,GAAL,GAAWA,GAAX;EACA,SAAKzC,KAAL,GAAaA,KAAb;EACA,SAAKQ,OAAL,GAAeA,OAAf;EACD;EAED;EACF;EACA;;;EAvBA;;EAAA,SAwBE2D,QAxBF,GAwBE,kBAAS3D,OAAT,EAAyC;EACvC,QAAIP,KAAK,CAACC,OAAN,CAAc,KAAKF,KAAnB,CAAJ,EAA+B;EAC7B,UAAI0B,GAAG,GAAG,EAAV;;EACA,WAAK,IAAIE,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAK5B,KAAL,CAAWqB,MAAvC,EAA+CO,KAAK,EAApD,EAAwD;EACtDF,QAAAA,GAAG,IAAIG,KAAK,CAAC,KAAKkD,EAAN,EAAU,KAAK/E,KAAL,CAAW4B,KAAX,CAAV,CAAZ;EACA,YAAI,KAAK5B,KAAL,CAAW4B,KAAK,GAAG,CAAnB,CAAJ,EAA2BF,GAAG,IAAI,IAAP;EAC5B;;EACD,aAAOA,GAAP;EACD;;EAED,WAAOG,KAAK,CAAC,KAAKkD,EAAN,EAAU,KAAK/E,KAAf,EAAsBQ,OAAtB,CAAZ;EACD,GAnCH;;EAAA;EAAA;EAsCA,IAAMqF,WAAS,GAAG,YAAlB;AAEA,2BAAe;EACbhF,EAAAA,YADa,wBACA4B,GADA,EACazC,KADb,EAC8BQ,OAD9B,EACyE;EACpF,WAAOqF,WAAS,CAACC,IAAV,CAAerD,GAAf,IAAsB,IAAImE,YAAJ,CAAiBnE,GAAjB,EAAsBzC,KAAtB,EAA6BQ,OAA7B,CAAtB,GAA8D,IAArE;EACD;EAHY,CAAf;;MCxCaqG,YAAb;EAeE,wBAAYpE,GAAZ,EAAyBzC,KAAzB,EAA0CQ,OAA1C,EAAgE;EAAA,SAdhEkC,IAcgE,GAdzD,UAcyD;EAAA,SAZhEqC,EAYgE,GAZnD,WAYmD;EAAA,SAVhEtC,GAUgE;EAAA,SARhEzC,KAQgE;EAAA,SANhEQ,OAMgE;EAAA,SAJhEmC,WAIgE,GAJzC,KAIyC;EAAA,SAFhEE,UAEgE;EAC9D,SAAKJ,GAAL,GAAWA,GAAX;EACA,SAAKzC,KAAL,GAAaA,KAAb;EACA,SAAKQ,OAAL,GAAeA,OAAf;EACD;EAED;EACF;EACA;;;EAvBA;;EAAA,SAwBE2D,QAxBF,GAwBE,kBAAS3D,OAAT,EAAyC;EACvC,WAAOqB,KAAK,CAAC,KAAKY,GAAN,EAAW,KAAKzC,KAAhB,EAAuBQ,OAAvB,CAAZ;EACD,GA1BH;;EAAA;EAAA;AA6BA,2BAAe;EACbK,EAAAA,YADa,wBACA4B,GADA,EACazC,KADb,EAC8BQ,OAD9B,EACyE;EACpF,WAAOiC,GAAG,KAAK,WAAR,IAAuBA,GAAG,KAAK,eAA/B,GACH,IAAIoE,YAAJ,CAAiBpE,GAAjB,EAAsBzC,KAAtB,EAA6BQ,OAA7B,CADG,GAEH,IAFJ;EAGD;EALY,CAAf;;MCtBasG,UAAb;EAaE,sBAAYrE,GAAZ,EAAyBxB,KAAzB,EAAwCT,OAAxC,EAA8D;EAAA,SAZ9DkC,IAY8D,GAZvD,QAYuD;EAAA,SAV9DD,GAU8D;EAAA,SAR9DxB,KAQ8D;EAAA,SAN9DT,OAM8D;EAAA,SAJ9DmC,WAI8D,GAJvC,KAIuC;EAAA,SAF9DE,UAE8D;EAC5D,SAAKJ,GAAL,GAAWA,GAAX;EACA,SAAKxB,KAAL,GAAaA,KAAb;EACA,SAAKT,OAAL,GAAeA,OAAf;EACD;EAED;EACF;EACA;EACE;;;EAtBF;;EAAA,SAuBE2D,QAvBF,GAuBE,kBAAS3D,OAAT,EAAyC;EACvC,QAAIP,KAAK,CAACC,OAAN,CAAc,KAAKe,KAAnB,CAAJ,EAA+B;EAC7B,UAAIS,GAAG,GAAG,EAAV;;EACA,WAAK,IAAIE,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKX,KAAL,CAAWI,MAAvC,EAA+CO,KAAK,EAApD,EAAwD;EACtDF,QAAAA,GAAG,IAAO,KAAKe,GAAZ,SAAmB,KAAKxB,KAAL,CAAWW,KAAX,CAAnB,MAAH;EACA,YAAI,KAAKX,KAAL,CAAWW,KAAK,GAAG,CAAnB,CAAJ,EAA2BF,GAAG,IAAI,IAAP;EAC5B;;EACD,aAAOA,GAAP;EACD;;EAED,WAAU,KAAKe,GAAf,SAAsB,KAAKxB,KAA3B;EACD,GAlCH;;EAAA;EAAA;EAqCA,IAAM8F,OAAO,GAAG;EACd,cAAY,IADE;EAEd,aAAW,IAFG;EAGd,gBAAc;EAHA,CAAhB;AAMA,yBAAe;EACblG,EAAAA,YADa,wBACA4B,GADA,EACaxB,KADb,EAC8BT,OAD9B,EACuE;EAClF,WAAOiC,GAAG,IAAIsE,OAAP,GAAiB,IAAID,UAAJ,CAAerE,GAAf,EAAsBxB,KAAtB,EAA4CT,OAA5C,CAAjB,GAAwE,IAA/E;EACD;EAHY,CAAf;;EC9CO,IAAMI,OAAO,GAAG,CACrBoG,eADqB,EAErBC,qBAFqB,EAGrBC,MAHqB,EAIrBC,kBAJqB,EAKrBC,kBALqB,EAMrBC,kBANqB,EAOrBC,gBAPqB,CAAhB;;ECQP,IAAMC,oBAAoB,GAAG;EAC3BpE,EAAAA,OAAO,EAAE;EADkB,CAA7B;EAIA,IAAMqE,kBAAkB,GAAG;EACzBvE,EAAAA,KAAK,EAAE,IADkB;EAEzBE,EAAAA,OAAO,EAAE;EAFgB,CAA3B;EAKA;EACA;EACA;EACA;;MACqBiC;EACnB;EACA;EAGA;EAGA;EAWA,oBAAY5E,OAAZ,EAAsC;EAAA,SAhBtCL,GAgBsC,GAhBT,EAgBS;EAAA,SAbtCsH,GAasC,GAbL,EAaK;EAAA,SAVtC7F,KAUsC,GAVjB,EAUiB;EAAA,SARtC8F,OAQsC,GARpB,CAQoB;EAAA,SANtClH,OAMsC;EAAA,SAJtCmH,OAIsC;EAAA,SAFtCrB,SAEsC;EACpC,SAAK9F,OAAL,GAAeA,OAAf;EACA,SAAKmH,OAAL,GAAenH,OAAO,CAACmH,OAAvB;EACA,SAAKrB,SAAL,GAAiB9F,OAAO,CAAC8F,SAAzB;EACD;;;;WAEDjB,MAAA,aAAIhF,IAAJ,EAAkBE,IAAlB,EAAkCqH,WAAlC,EAA0E;EACxE,WAAO,KAAKC,YAAL,CAAkBxH,IAAlB,EAAwBE,IAAxB,EAA8B,KAA9B,EAAqCqH,WAArC,CAAP;EACD;EAED;EACF;EACA;;;WACErF,UAAA,iBAAQlC,IAAR,EAAsBE,IAAtB,EAAsCqH,WAAtC,EAA8E;EAC5E,WAAO,KAAKC,YAAL,CAAkBxH,IAAlB,EAAwBE,IAAxB,EAA8B,IAA9B,EAAoCqH,WAApC,CAAP;EACD;EAED;EACF;EACA;EACA;EACA;;;WACEC,eAAA,sBACExH,IADF,EAEEE,IAFF,EAGEmF,SAHF,EAIEkC,WAJF,EAKe;EAAA,wBAC8C,KAAKpH,OADnD;EAAA,QACNiE,MADM,iBACNA,MADM;EAAA,QACE3B,KADF,iBACEA,KADF;EAAA,QACSrC,GADT,iBACSA,GADT;EAAA,QACcsC,QADd,iBACcA,QADd;EAAA,QACwBgB,UADxB,iBACwBA,UADxB;EAAA,QACoCD,MADpC,iBACoCA,MADpC;;EAEb,QAAMtD,OAAO;EACXmH,MAAAA,OAAO,EAAE,KAAKA,OADH;EAEXlD,MAAAA,MAAM,EAANA,MAFW;EAGX3B,MAAAA,KAAK,EAALA,KAHW;EAIXrC,MAAAA,GAAG,EAAHA,GAJW;EAKXsC,MAAAA,QAAQ,EAARA,QALW;EAMXgB,MAAAA,UAAU,EAAVA,UANW;EAOXD,MAAAA,MAAM,EAANA,MAPW;EAQXzD,MAAAA,IAAI,EAAJA;EARW,OASRuH,WATQ,CAAb,CAFa;EAeb;EACA;;;EACA,QAAInF,GAAG,GAAGpC,IAAV;;EACA,QAAI,CAACqF,SAAD,IAAcrF,IAAI,IAAI,KAAKoH,GAA/B,EAAoC;EAClChF,MAAAA,GAAG,GAAMpC,IAAN,UAAe,KAAKqH,OAAL,EAAlB;EACD,KApBY;EAuBb;;;EACA,SAAKD,GAAL,CAAShF,GAAT,IAAgBlC,IAAhB;;EAEA,QAAIkC,GAAG,IAAI,KAAKkF,OAAhB,EAAyB;EACvB;EACAnH,MAAAA,OAAO,CAACsB,QAAR,SAAuBQ,MAAM,CAAC,KAAKqF,OAAL,CAAalF,GAAb,CAAD,CAA7B;EACD;;EAED,QAAM9B,IAAI,GAAGL,UAAU,CAACmC,GAAD,EAAMlC,IAAN,EAAYC,OAAZ,CAAvB;EAEA,QAAI,CAACG,IAAL,EAAW,OAAO,IAAP;EAEX,SAAKmH,QAAL,CAAcnH,IAAd;EAEA,QAAMiB,KAAK,GAAGpB,OAAO,CAACoB,KAAR,KAAkBoB,SAAlB,GAA8B,KAAKpB,KAAL,CAAWP,MAAzC,GAAkDb,OAAO,CAACoB,KAAxE;EACA,SAAKA,KAAL,CAAWmG,MAAX,CAAkBnG,KAAlB,EAAyB,CAAzB,EAA4BjB,IAA5B;EAEA,WAAOA,IAAP;EACD;EAED;EACF;EACA;;;WACE4E,MAAA,aAAIlF,IAAJ,EAAwB;EACtB,WAAO,KAAKF,GAAL,CAASE,IAAT,CAAP;EACD;EAED;EACF;EACA;;;WACEkD,SAAA,gBAAO5C,IAAP,EAAyB;EACvB,SAAKqH,UAAL,CAAgBrH,IAAhB;EACA,WAAO,KAAK8G,GAAL,CAAS9G,IAAI,CAAC8B,GAAd,CAAP;EACA,SAAKb,KAAL,CAAWmG,MAAX,CAAkB,KAAKnG,KAAL,CAAW4D,OAAX,CAAmB7E,IAAnB,CAAlB,EAA4C,CAA5C;EACD;EAED;EACF;EACA;;;WACE6E,UAAA,iBAAQ7E,IAAR,EAA4B;EAC1B,WAAO,KAAKiB,KAAL,CAAW4D,OAAX,CAAmB7E,IAAnB,CAAP;EACD;EAED;EACF;EACA;;;WACEwC,UAAA,mBAAgB;EAAA,QACPvC,OADO,GACI,KAAKJ,OAAL,CAAaC,GADjB,CACPG,OADO;EAGd;;EACA,SAAKgB,KAAL,CAAWqG,KAAX,CAAiB,CAAjB,EAAoBC,OAApB,CAA4BtH,OAAO,CAAC+E,aAApC,EAAmD/E,OAAnD;EACD;EAED;EACF;EACA;;;WACEkH,WAAA,kBAASnH,IAAT,EAA2B;EACzB,SAAKR,GAAL,CAASQ,IAAI,CAAC8B,GAAd,IAAqB9B,IAArB;;EACA,QAAIA,IAAI,YAAYgD,SAApB,EAA+B;EAC7B,WAAKxD,GAAL,CAASQ,IAAI,CAACmB,QAAd,IAA0BnB,IAA1B;EACA,UAAIA,IAAI,CAACkD,EAAT,EAAa,KAAK8D,OAAL,CAAahH,IAAI,CAAC8B,GAAlB,IAAyB9B,IAAI,CAACkD,EAA9B;EACd,KAHD,MAGO,IAAIlD,IAAI,YAAYqF,aAAhB,IAAiC,KAAKM,SAA1C,EAAqD;EAC1D,WAAKA,SAAL,CAAe3F,IAAI,CAACN,IAApB,IAA4BM,IAAI,CAACkD,EAAjC;EACD;EACF;EAED;EACF;EACA;;;WACEmE,aAAA,oBAAWrH,IAAX,EAA6B;EAC3B,WAAO,KAAKR,GAAL,CAASQ,IAAI,CAAC8B,GAAd,CAAP;;EACA,QAAI9B,IAAI,YAAYgD,SAApB,EAA+B;EAC7B,aAAO,KAAKxD,GAAL,CAASQ,IAAI,CAACmB,QAAd,CAAP;EACA,aAAO,KAAK6F,OAAL,CAAahH,IAAI,CAAC8B,GAAlB,CAAP;EACD,KAHD,MAGO,IAAI9B,IAAI,YAAYqF,aAApB,EAAmC;EACxC,aAAO,KAAKM,SAAL,CAAe3F,IAAI,CAACN,IAApB,CAAP;EACD;EACF;EAED;EACF;EACA;;;WACE8H,SAAA,kBAAuC;EACrC,QAAI9H,IAAJ;EACA,QAAI+H,IAAJ;EACA,QAAI5H,OAAJ;;EAEA,QAAI,8DAAmB,QAAvB,EAAiC;EAC/BH,MAAAA,IAAI,mDAAJ,CAD+B;;EAG/B+H,MAAAA,IAAI,mDAAJ,CAH+B;;EAK/B5H,MAAAA,OAAO,mDAAP;EACD,KAND,MAMO;EACL4H,MAAAA,IAAI,mDAAJ,CADK;;EAGL5H,MAAAA,OAAO,mDAAP;EACAH,MAAAA,IAAI,GAAG,IAAP;EACD;;EAED,QAAIA,IAAJ,EAAU;EACR,WAAKgI,SAAL,CAAe,KAAKlI,GAAL,CAASE,IAAT,CAAf,EAA+B+H,IAA/B,EAAqC5H,OAArC;EACD,KAFD,MAEO;EACL,WAAK,IAAIoB,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKA,KAAL,CAAWP,MAAvC,EAA+CO,KAAK,EAApD,EAAwD;EACtD,aAAKyG,SAAL,CAAe,KAAKzG,KAAL,CAAWA,KAAX,CAAf,EAAkCwG,IAAlC,EAAwC5H,OAAxC;EACD;EACF;EACF;EAED;EACF;EACA;;;WACE6H,YAAA,mBAAU1H,IAAV,EAAsByH,IAAtB,EAAoC5H,OAApC,EAAoF;EAAA,QAAhDA,OAAgD;EAAhDA,MAAAA,OAAgD,GAAtB+G,oBAAsB;EAAA;;EAAA,yBAI9E,KAAK/G,OAJyE;EAAA,QAE1EI,OAF0E,kBAEhFH,GAFgF,CAE1EG,OAF0E;EAAA,QAGhFkC,KAHgF,kBAGhFA,KAHgF;;EAOlF,QAAInC,IAAI,CAACsE,KAAL,YAAsBG,QAA1B,EAAoC;EAClCzE,MAAAA,IAAI,CAACsE,KAAL,CAAWkD,MAAX,CAAkBC,IAAlB,EAAwB5H,OAAxB;EACA;EACD;;EAED,QAAM8H,SAAoB,GAAI3H,IAA9B;EAZkF,QAa3EX,KAb2E,GAalEsI,SAbkE,CAa3EtI,KAb2E;EAelFY,IAAAA,OAAO,CAAC2H,QAAR,CAAiBH,IAAjB,EAAuBzH,IAAvB,EAA6BmC,KAA7B,EAAoCtC,OAApC,EAfkF;;EAkBlF,QAAIA,OAAO,CAAC2C,OAAR,IAAmBnD,KAAnB,IAA4BA,KAAK,KAAKsI,SAAS,CAACtI,KAApD,EAA2D;EACzD;EACAY,MAAAA,OAAO,CAAC8F,cAAR,CAAuB4B,SAAS,CAACtI,KAAjC,EAAwCsI,SAAxC,EAAmDxF,KAAnD,EAFyD;;EAKzD,WAAK,IAAMb,IAAX,IAAmBqG,SAAS,CAACtI,KAA7B,EAAoC;EAClC,YAAMwI,SAAS,GAAGF,SAAS,CAACtI,KAAV,CAAgBiC,IAAhB,CAAlB;EACA,YAAMwG,SAAS,GAAGzI,KAAK,CAACiC,IAAD,CAAvB,CAFkC;EAIlC;;EACA,YAAIuG,SAAS,KAAKC,SAAlB,EAA6B;EAC3BH,UAAAA,SAAS,CAACrG,IAAV,CAAeA,IAAf,EAAqBuG,SAArB,EAAgChB,kBAAhC;EACD;EACF,OAbwD;;;EAgBzD,WAAK,IAAMvF,KAAX,IAAmBjC,KAAnB,EAA0B;EACxB,YAAMwI,UAAS,GAAGF,SAAS,CAACtI,KAAV,CAAgBiC,KAAhB,CAAlB;EACA,YAAMwG,UAAS,GAAGzI,KAAK,CAACiC,KAAD,CAAvB,CAFwB;EAIxB;;EACA,YAAIuG,UAAS,IAAI,IAAb,IAAqBA,UAAS,KAAKC,UAAvC,EAAkD;EAChDH,UAAAA,SAAS,CAACrG,IAAV,CAAeA,KAAf,EAAqB,IAArB,EAA2BuF,kBAA3B;EACD;EACF;EACF;EACF;EAED;EACF;EACA;;;WACErD,WAAA,kBAAS3D,OAAT,EAAyC;EACvC,QAAIkB,GAAG,GAAG,EAAV;EADuC,QAEhCoB,KAFgC,GAEvB,KAAKtC,OAFkB,CAEhCsC,KAFgC;EAGvC,QAAMsB,IAAI,GAAGtB,KAAK,GAAGA,KAAK,CAACtC,OAAN,CAAc4D,IAAjB,GAAwB,KAA1C;;EAEA,SAAK,IAAIxC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKA,KAAL,CAAWP,MAAvC,EAA+CO,KAAK,EAApD,EAAwD;EACtD,UAAMjB,IAAI,GAAG,KAAKiB,KAAL,CAAWA,KAAX,CAAb;EACA,UAAM8G,GAAG,GAAG/H,IAAI,CAACwD,QAAL,CAAc3D,OAAd,CAAZ,CAFsD;;EAKtD,UAAI,CAACkI,GAAD,IAAQ,CAACtE,IAAb,EAAmB;EAEnB,UAAI1C,GAAJ,EAASA,GAAG,IAAI,IAAP;EACTA,MAAAA,GAAG,IAAIgH,GAAP;EACD;;EAED,WAAOhH,GAAP;EACD;;;;;MCnQkBiH;EAiBnB,sBAAY7D,MAAZ,EAA+BtE,OAA/B,EAA2D;EAAA,SAhB3DA,OAgB2D;EAAA,SAd3DoI,QAc2D;EAAA,SAZ3DlF,QAY2D;EAAA,SAV3DuB,KAU2D;EAAA,SAR3DrC,QAQ2D;EAAA,SAN3D+E,OAM2D;EAAA,SAJ3DrB,SAI2D;EAAA,SAF3DuC,KAE2D;EACzD,SAAKnF,QAAL,GAAgB,KAAhB;EACA,SAAKkF,QAAL,GAAgB,KAAhB;EACA,SAAKjB,OAAL,GAAe,EAAf;EACA,SAAKrB,SAAL,GAAiB,EAAjB;EACA,SAAK9F,OAAL,gBACKA,OADL;EAEEsC,MAAAA,KAAK,EAAE,IAFT;EAGE2B,MAAAA,MAAM,EAAE,IAHV;EAIEkD,MAAAA,OAAO,EAAE,KAAKA,OAJhB;EAKErB,MAAAA,SAAS,EAAE,KAAKA;EALlB;;EAOA,QAAI9F,OAAO,CAACuC,QAAZ,EAAsB;EACpB,WAAKH,QAAL,GAAgB,IAAIpC,OAAO,CAACuC,QAAZ,CAAqB,IAArB,CAAhB;EACD;;EACD,SAAKkC,KAAL,GAAa,IAAIG,QAAJ,CAAa,KAAK5E,OAAlB,CAAb;;EAEA,SAAK,IAAMH,IAAX,IAAmByE,MAAnB,EAA2B;EACzB,WAAKG,KAAL,CAAWI,GAAX,CAAehF,IAAf,EAAqByE,MAAM,CAACzE,IAAD,CAA3B;EACD;;EAED,SAAK4E,KAAL,CAAW9B,OAAX;EACD;EAED;EACF;EACA;;;;;WACE2F,SAAA,kBAAe;EACb,QAAI,KAAKpF,QAAT,EAAmB,OAAO,IAAP;EACnB,QAAI,KAAKd,QAAT,EAAmB,KAAKA,QAAL,CAAckG,MAAd;EACnB,SAAKpF,QAAL,GAAgB,IAAhB,CAHa;;EAKb,QAAI,CAAC,KAAKkF,QAAV,EAAoB,KAAKG,MAAL;EACpB,WAAO,IAAP;EACD;EAED;EACF;EACA;;;WACEC,SAAA,kBAAe;EACb,QAAI,CAAC,KAAKtF,QAAV,EAAoB,OAAO,IAAP;EACpB,QAAI,KAAKd,QAAT,EAAmB,KAAKA,QAAL,CAAcoG,MAAd;EACnB,SAAKtF,QAAL,GAAgB,KAAhB;EACA,WAAO,IAAP;EACD;EAED;EACF;EACA;EACA;;;WACE+B,mBAAA,0BACEpF,IADF,EAEEE,IAFF,EAGEmF,SAHF,EAIElF,OAJF,EAKe;EAAA,QACNqI,KADM,GACG,IADH,CACNA,KADM;EAIb;EACA;;EACA,QAAI,KAAKnF,QAAL,IAAiB,CAACmF,KAAtB,EAA6B,KAAKA,KAAL,GAAa,EAAb;EAE7B,QAAIlI,IAAJ;;EACA,QAAI+E,SAAJ,EAAe;EACb/E,MAAAA,IAAI,GAAG,KAAKsE,KAAL,CAAW1C,OAAX,CAAmBlC,IAAnB,EAAyBE,IAAzB,EAA+BC,OAA/B,CAAP;EACD,KAFD,MAEO;EACLG,MAAAA,IAAI,GAAG,KAAKsE,KAAL,CAAWI,GAAX,CAAehF,IAAf,EAAqBE,IAArB,EAA2BC,OAA3B,CAAP;EACD;;EAED,QAAI,CAACG,IAAL,EAAW,OAAO,IAAP;EAEX,SAAKH,OAAL,CAAaC,GAAb,CAAiBG,OAAjB,CAAyB+E,aAAzB,CAAuChF,IAAvC;;EAEA,QAAI,KAAK+C,QAAT,EAAmB;EACjB,UAAI,CAAC,KAAKkF,QAAV,EAAoB,OAAOjI,IAAP,CADH;EAGjB;;EACA,UAAIkI,KAAJ,EAAWA,KAAK,CAACI,IAAN,CAAWtI,IAAX,EAAX,KACK;EACH,aAAKuI,UAAL,CAAgBvI,IAAhB;;EACA,YAAI,KAAKkI,KAAT,EAAgB;EACd,eAAKA,KAAL,CAAWX,OAAX,CAAmB,KAAKgB,UAAxB,EAAoC,IAApC;EACA,eAAKL,KAAL,GAAa7F,SAAb;EACD;EACF;EACD,aAAOrC,IAAP;EACD,KAhCY;EAmCb;;;EACA,SAAKiI,QAAL,GAAgB,KAAhB;EAEA,WAAOjI,IAAP;EACD;;WAEDiF,UAAA,iBAAQvF,IAAR,EAAsBE,IAAtB,EAAsCC,OAAtC,EAA0E;EACxE,WAAO,KAAKiF,gBAAL,CAAsBpF,IAAtB,EAA4BE,IAA5B,EAAkC,KAAlC,EAAyCC,OAAzC,CAAP;EACD;EAED;EACF;EACA;;;WACEgE,cAAA,qBAAYnE,IAAZ,EAA0BE,IAA1B,EAA0CC,OAA1C,EAA8E;EAC5E,WAAO,KAAKiF,gBAAL,CAAsBpF,IAAtB,EAA4BE,IAA5B,EAAkC,IAAlC,EAAwCC,OAAxC,CAAP;EACD;EAED;EACF;EACA;;;WACE0I,aAAA,oBAAWvI,IAAX,EAAuB;EACrB,QAAI,KAAKiC,QAAT,EAAmB;EACjB,WAAKA,QAAL,CAAcsG,UAAd,CAAyBvI,IAAzB;EACD;EACF;EAED;EACF;EACA;EACA;;;WACEwI,WAAA,kBAASrE,MAAT,EAA4BtE,OAA5B,EAAgE;EAC9D,QAAM4I,KAAK,GAAG,EAAd;;EACA,SAAK,IAAM/I,IAAX,IAAmByE,MAAnB,EAA2B;EACzB,UAAMnE,IAAI,GAAG,KAAKiF,OAAL,CAAavF,IAAb,EAAmByE,MAAM,CAACzE,IAAD,CAAzB,EAAiCG,OAAjC,CAAb;EACA,UAAIG,IAAJ,EAAUyI,KAAK,CAACH,IAAN,CAAWtI,IAAX;EACX;;EACD,WAAOyI,KAAP;EACD;EAED;EACF;EACA;;;WACE9D,UAAA,iBAAQjF,IAAR,EAA4B;EAC1B,WAAO,KAAK4E,KAAL,CAAWM,GAAX,CAAelF,IAAf,CAAP;EACD;EAED;EACF;EACA;EACA;;;WACEgJ,aAAA,oBAAWhJ,IAAX,EAAyC;EACvC,QAAMM,IAAI,GAAG,OAAON,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkC,KAAK4E,KAAL,CAAWM,GAAX,CAAelF,IAAf,CAA/C;EAEA,QAAI,CAACM,IAAL,EAAW,OAAO,KAAP;EAEX,SAAKsE,KAAL,CAAW1B,MAAX,CAAkB5C,IAAlB;;EAEA,QAAI,KAAK+C,QAAL,IAAiB/C,IAAI,CAACkC,UAAtB,IAAoC,KAAKD,QAA7C,EAAuD;EACrD,aAAO,KAAKA,QAAL,CAAcyG,UAAd,CAAyB1I,IAAI,CAACkC,UAA9B,CAAP;EACD;;EAED,WAAO,IAAP;EACD;EAED;EACF;EACA;;;WACE2C,UAAA,iBAAQ7E,IAAR,EAA4B;EAC1B,WAAO,KAAKsE,KAAL,CAAWO,OAAX,CAAmB7E,IAAnB,CAAP;EACD;EAED;EACF;EACA;;;WACEoI,SAAA,kBAAe;EACb,QAAI,KAAKnG,QAAT,EAAmB,KAAKA,QAAL,CAAcmG,MAAd;EACnB,SAAKH,QAAL,GAAgB,IAAhB;EACA,WAAO,IAAP;EACD;EAED;EACF;EACA;;;WACET,SAAA,kBAAuC;EAAA;;EACrC,wBAAKlD,KAAL,EAAWkD,MAAX;;EACA,WAAO,IAAP;EACD;EAED;EACF;EACA;;;WACEE,YAAA,mBAAU1H,IAAV,EAAsByH,IAAtB,EAAoC5H,OAApC,EAAmE;EACjE,SAAKyE,KAAL,CAAWoD,SAAX,CAAqB1H,IAArB,EAA2ByH,IAA3B,EAAiC5H,OAAjC;EACA,WAAO,IAAP;EACD;EAED;EACF;EACA;;;WACE2D,WAAA,kBAAS3D,OAAT,EAAyC;EACvC,WAAO,KAAKyE,KAAL,CAAWd,QAAX,CAAoB3D,OAApB,CAAP;EACD;;;;;MCrMkB8I;;WACnB1I,UAGI;EACF2I,MAAAA,QAAQ,EAAE,EADR;EAEFC,MAAAA,QAAQ,EAAE;EAFR;WAKJC;;;;;EAEA;EACF;EACA;WACE5I,eAAA,sBAAaR,IAAb,EAA4BE,IAA5B,EAA4CC,OAA5C,EAA+E;EAC7E,SAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKqI,QAAL,CAAc5I,YAAd,CAA2BQ,MAA/C,EAAuDD,CAAC,EAAxD,EAA4D;EAC1D,UAAMT,IAAI,GAAG,KAAK8I,QAAL,CAAc5I,YAAd,CAA2BO,CAA3B,EAA8Bf,IAA9B,EAAoCE,IAApC,EAA0CC,OAA1C,CAAb;EACA,UAAIG,IAAJ,EAAU,OAAOA,IAAP;EACX;;EAED,WAAO,IAAP;EACD;EAED;EACF;EACA;;;WACEgF,gBAAA,uBAAchF,IAAd,EAAgC;EAC9B,QAAIA,IAAI,CAACgC,WAAT,EAAsB;EADQ,QAEvBG,KAFuB,GAEdnC,IAAI,CAACH,OAFS,CAEvBsC,KAFuB;;EAG9B,SAAK,IAAI1B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKqI,QAAL,CAAc9D,aAAd,CAA4BtE,MAAhD,EAAwDD,CAAC,EAAzD,EAA6D;EAC3D,WAAKqI,QAAL,CAAc9D,aAAd,CAA4BvE,CAA5B,EAA+BT,IAA/B,EAAqCmC,KAArC;EACD;;EAED,QAAInC,IAAI,CAACX,KAAT,EAAgB,KAAK0G,cAAL,CAAoB/F,IAAI,CAACX,KAAzB,EAAgCW,IAAhC,EAAsCmC,KAAtC;EAEhBnC,IAAAA,IAAI,CAACgC,WAAL,GAAmB,IAAnB;EACD;EAED;EACF;EACA;;;WACE+D,iBAAA,wBAAe1G,KAAf,EAAgCW,IAAhC,EAA4CmC,KAA5C,EAAsE;EACpE,SAAK,IAAI1B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKqI,QAAL,CAAc/C,cAAd,CAA6BrF,MAAjD,EAAyDD,CAAC,EAA1D,EAA8D;EAC5D;EACAT,MAAAA,IAAI,CAACX,KAAL,GAAa,KAAKyJ,QAAL,CAAc/C,cAAd,CAA6BtF,CAA7B,EAAgCT,IAAI,CAACX,KAArC,EAA4CW,IAA5C,EAAkDmC,KAAlD,CAAb;EACD;EACF;EAED;EACF;EACA;;;WACE4G,iBAAA,wBAAe5G,KAAf,EAAwC;EACtC,SAAK,IAAI1B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKqI,QAAL,CAAcC,cAAd,CAA6BrI,MAAjD,EAAyDD,CAAC,EAA1D,EAA8D;EAC5D,WAAKqI,QAAL,CAAcC,cAAd,CAA6BtI,CAA7B,EAAgC0B,KAAhC;EACD;EACF;EAED;EACF;EACA;;;WACEyF,WAAA,kBAASH,IAAT,EAAuBzH,IAAvB,EAAmCmC,KAAnC,EAAsDtC,OAAtD,EAAoF;EAClF,SAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKqI,QAAL,CAAclB,QAAd,CAAuBlH,MAA3C,EAAmDD,CAAC,EAApD,EAAwD;EACtD,WAAKqI,QAAL,CAAclB,QAAd,CAAuBnH,CAAvB,EAA0BgH,IAA1B,EAAgCzH,IAAhC,EAAsCmC,KAAtC,EAA6CtC,OAA7C;EACD;EACF;EAED;EACF;EACA;;;WACE4C,gBAAA,uBAAcnC,KAAd,EAA+BgB,IAA/B,EAA6CtB,IAA7C,EAAwE;EACtE,QAAIgJ,cAAc,GAAG1I,KAArB;;EACA,SAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKqI,QAAL,CAAcrG,aAAd,CAA4B/B,MAAhD,EAAwDD,CAAC,EAAzD,EAA6D;EAC3DuI,MAAAA,cAAc,GAAG,KAAKF,QAAL,CAAcrG,aAAd,CAA4BhC,CAA5B,EAA+BuI,cAA/B,EAA+C1H,IAA/C,EAAqDtB,IAArD,CAAjB;EACD;;EACD,WAAOgJ,cAAP;EACD;EAED;EACF;EACA;;;WACEC,MAAA,aAAIC,SAAJ,EAAuBrJ,OAAvB,EAA8F;EAAA,QAAvEA,OAAuE;EAAvEA,MAAAA,OAAuE,GAA3B;EAACqI,QAAAA,KAAK,EAAE;EAAR,OAA2B;EAAA;;EAC5F,QAAMjI,OAAO,GAAG,KAAKA,OAAL,CAAaJ,OAAO,CAACqI,KAArB,CAAhB,CAD4F;;EAI5F,QAAIjI,OAAO,CAAC4E,OAAR,CAAgBqE,SAAhB,MAA+B,CAAC,CAApC,EAAuC;EACrC;EACD;;EAEDjJ,IAAAA,OAAO,CAACqI,IAAR,CAAaY,SAAb;EAEA,SAAKJ,QAAL,GAAgB,UAAI,KAAK7I,OAAL,CAAa4I,QAAjB,EAA8B,KAAK5I,OAAL,CAAa2I,QAA3C,EAAqDO,MAArD,CACd,UAACL,QAAD,EAAqBhD,MAArB,EAAwC;EACtC,WAAK,IAAMpG,IAAX,IAAmBoG,MAAnB,EAA2B;EACzB,YAAIpG,IAAI,IAAIoJ,QAAZ,EAAsB;EACpBA,UAAAA,QAAQ,CAACpJ,IAAD,CAAR,CAAe4I,IAAf,CAAoBxC,MAAM,CAACpG,IAAD,CAA1B;EACD,SAFD,MAEO;EACL,WAAAS,OAAO,CAAC,KAAD,4BAA+BT,IAA/B,SAAP;EACD;EACF;;EACD,aAAOoJ,QAAP;EACD,KAVa,EAWd;EACE5I,MAAAA,YAAY,EAAE,EADhB;EAEE8E,MAAAA,aAAa,EAAE,EAFjB;EAGEe,MAAAA,cAAc,EAAE,EAHlB;EAIEgD,MAAAA,cAAc,EAAE,EAJlB;EAKEtG,MAAAA,aAAa,EAAE,EALjB;EAMEmF,MAAAA,QAAQ,EAAE;EANZ,KAXc,CAAhB;EAoBD;;;;;EC1IY,SAAS,6BAA6B,CAAC,MAAM,EAAE,QAAQ,EAAE;EACxE,EAAE,IAAI,MAAM,IAAI,IAAI,EAAE,OAAO,EAAE,CAAC;EAChC,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC;EAClB,EAAE,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACvC,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;AACb;EACA,EAAE,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EAC1C,IAAI,GAAG,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;EACxB,IAAI,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,SAAS;EAC7C,IAAI,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;EAC9B,GAAG;AACH;EACA,EAAE,OAAO,MAAM,CAAC;EAChB;;GAAC,DCTD;EACA;EACA;MACqBwB;;WACnBN,WAA8B;;;;;EAS9B;EACF;EACA;WACEpE,MAAA,aAAIvC,KAAJ,EAA6B;EAAA,QACpB2G,QADoB,GACR,IADQ,CACpBA,QADoB;EAAA,QAEpB7H,KAFoB,GAEXkB,KAAK,CAACtC,OAFK,CAEpBoB,KAFoB;EAI3B,QAAI6H,QAAQ,CAACjE,OAAT,CAAiB1C,KAAjB,MAA4B,CAAC,CAAjC,EAAoC;;EAEpC,QAAI2G,QAAQ,CAACpI,MAAT,KAAoB,CAApB,IAAyBO,KAAK,IAAI,KAAKA,KAA3C,EAAkD;EAChD6H,MAAAA,QAAQ,CAACR,IAAT,CAAcnG,KAAd;EACA;EACD,KAT0B;;;EAY3B,SAAK,IAAI1B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqI,QAAQ,CAACpI,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;EACxC,UAAIqI,QAAQ,CAACrI,CAAD,CAAR,CAAYZ,OAAZ,CAAoBoB,KAApB,GAA4BA,KAAhC,EAAuC;EACrC6H,QAAAA,QAAQ,CAAC1B,MAAT,CAAgB3G,CAAhB,EAAmB,CAAnB,EAAsB0B,KAAtB;EACA;EACD;EACF;EACF;EAED;EACF;EACA;;;WACEkH,QAAA,iBAAc;EACZ,SAAKP,QAAL,GAAgB,EAAhB;EACD;EAED;EACF;EACA;;;WACElG,SAAA,gBAAOT,KAAP,EAAgC;EAC9B,QAAMlB,KAAK,GAAG,KAAK6H,QAAL,CAAcjE,OAAd,CAAsB1C,KAAtB,CAAd;EACA,SAAK2G,QAAL,CAAc1B,MAAd,CAAqBnG,KAArB,EAA4B,CAA5B;EACD;EAED;EACF;EACA;;;WACEuC,WAAA,yBAAqF;EAAA,kCAAZ,EAAY;EAAA,QAA3ET,QAA2E,QAA3EA,QAA2E;EAAA,QAA9DlD,OAA8D;;EACnF,QAAIkI,GAAG,GAAG,EAAV;;EACA,SAAK,IAAItH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKqI,QAAL,CAAcpI,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;EAC7C,UAAM0B,KAAK,GAAG,KAAK2G,QAAL,CAAcrI,CAAd,CAAd;;EACA,UAAIsC,QAAQ,IAAI,IAAZ,IAAoBZ,KAAK,CAACY,QAAN,KAAmBA,QAA3C,EAAqD;EACnD;EACD;;EACD,UAAIgF,GAAJ,EAASA,GAAG,IAAI,IAAP;EACTA,MAAAA,GAAG,IAAI5F,KAAK,CAACqB,QAAN,CAAe3D,OAAf,CAAP;EACD;;EACD,WAAOkI,GAAP;EACD;;;;;EA3DD;EACF;EACA;EACE,mBAAoB;EAClB,aAAO,KAAKe,QAAL,CAAcpI,MAAd,KAAyB,CAAzB,GAA6B,CAA7B,GAAiC,KAAKoI,QAAL,CAAc,KAAKA,QAAL,CAAcpI,MAAd,GAAuB,CAArC,EAAwCb,OAAxC,CAAgDoB,KAAxF;EACD;;;;;;ECZH;EACA;EACA;EACA;EACA;EACA;;AACA,eAAe,IAAImI,cAAJ,EAAf;;ECTA;EACA;AACA,mBAAgB,OAAOE,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACC,IAAP,IAAeA,IAA/C,GACZD,MADY,GAEZ,OAAOE,IAAP,IAAe,WAAf,IAA8BA,IAAI,CAACD,IAAL,IAAaA,IAA3C,GACEC,IADF,GAEEC,QAAQ,CAAC,aAAD,CAAR,EAJN;;ECAA,IAAMC,EAAE,GAAG,kCAAX;EACA,IAAIC,UAAU,CAACD,EAAD,CAAV,IAAkB,IAAtB,EAA4BC,UAAU,CAACD,EAAD,CAAV,GAAiB,CAAjB;EAG5B;EACA;EACA;;AACA,iBAAeC,UAAU,CAACD,EAAD,CAAV,EAAf;;ECHA,IAAME,QAAQ,GAAG,IAAjB;;EASA;EACA;EACA;EACA;EACA;EACA,IAAMC,gBAAkC,GAAG,SAArCA,gBAAqC,CAAChK,OAAD,EAAkB;EAAA,MAAjBA,OAAiB;EAAjBA,IAAAA,OAAiB,GAAP,EAAO;EAAA;;EAC3D,MAAIiK,WAAW,GAAG,CAAlB;EAEA,SAAO,UAAC9J,IAAD,EAAamC,KAAb,EAA4C;EACjD2H,IAAAA,WAAW,IAAI,CAAf;;EAEA,QAAIA,WAAW,GAAGF,QAAlB,EAA4B;EAC1B,OAAAzJ,OAAO,CAAC,KAAD,8DAAkE2J,WAAlE,OAAP;EACD;;EAED,QAAIC,KAAK,GAAG,EAAZ;EACA,QAAIC,MAAM,GAAG,EAAb;;EAEA,QAAI7H,KAAJ,EAAW;EACT,UAAIA,KAAK,CAACtC,OAAN,CAAcoK,eAAlB,EAAmC;EACjCD,QAAAA,MAAM,GAAG7H,KAAK,CAACtC,OAAN,CAAcoK,eAAvB;EACD;;EACD,UAAI9H,KAAK,CAACtC,OAAN,CAAcC,GAAd,CAAkBoD,EAAlB,IAAwB,IAA5B,EAAkC;EAChC6G,QAAAA,KAAK,GAAGG,MAAM,CAAC/H,KAAK,CAACtC,OAAN,CAAcC,GAAd,CAAkBoD,EAAnB,CAAd;EACD;EACF;;EAED,QAAIrD,OAAO,CAACsK,MAAZ,EAAoB;EAClB;EACA,mBAAUH,MAAM,IAAI,GAApB,IAA0BI,QAA1B,GAAqCL,KAArC,GAA6CD,WAA7C;EACD;;EAED,WAAUE,MAAM,GAAGhK,IAAI,CAAC8B,GAAxB,SAA+BsI,QAA/B,IAA0CL,KAAK,SAAOA,KAAP,GAAiB,EAAhE,UAAsED,WAAtE;EACD,GAzBD;EA0BD,CA7BD;;ECIA;EACA;EACA;EACA,IAAMO,OAAO,GAAG,SAAVA,OAAU,CAAQC,EAAR,EAA2C;EACzD,MAAIhK,KAAJ;EACA,SAAO,YAAM;EACX,QAAI,CAACA,KAAL,EAAYA,KAAK,GAAGgK,EAAE,EAAV;EACZ,WAAOhK,KAAP;EACD,GAHD;EAID,CAND;EAQA;EACA;EACA;;;EACA,SAASiK,gBAAT,CACEC,OADF,EAEElJ,IAFF,EAGU;EACR,MAAI;EACF;EACA,QAAIkJ,OAAO,CAACC,iBAAZ,EAA+B;EAC7B,aAAOD,OAAO,CAACC,iBAAR,CAA0B7F,GAA1B,CAA8BtD,IAA9B,CAAP;EACD;;EACD,WAAOkJ,OAAO,CAACnL,KAAR,CAAckL,gBAAd,CAA+BjJ,IAA/B,CAAP;EACD,GAND,CAME,OAAOoJ,GAAP,EAAY;EACZ;EACA,WAAO,EAAP;EACD;EACF;EAED;EACA;EACA;;;EACA,SAAS5H,WAAT,CACE0H,OADF,EAEElJ,IAFF,EAGEhB,KAHF,EAIW;EACT,MAAI;EACF,QAAIO,QAAQ,GAAKP,KAAjB;;EAEA,QAAIhB,KAAK,CAACC,OAAN,CAAce,KAAd,CAAJ,EAA0B;EACxBO,MAAAA,QAAQ,GAAGF,UAAU,CAACL,KAAD,EAAQ,IAAR,CAArB;;EAEA,UAAIA,KAAK,CAACA,KAAK,CAACI,MAAN,GAAe,CAAhB,CAAL,KAA4B,YAAhC,EAA8C;EAC5C8J,QAAAA,OAAO,CAACnL,KAAR,CAAcyD,WAAd,CAA0BxB,IAA1B,EAAgCT,QAAhC,EAA0C,WAA1C;EACA,eAAO,IAAP;EACD;EACF,KAVC;;;EAaF,QAAI2J,OAAO,CAACC,iBAAZ,EAA+B;EAC7BD,MAAAA,OAAO,CAACC,iBAAR,CAA0BE,GAA1B,CAA8BrJ,IAA9B,EAAoCT,QAApC;EACD,KAFD,MAEO;EACL2J,MAAAA,OAAO,CAACnL,KAAR,CAAcyD,WAAd,CAA0BxB,IAA1B,EAAgCT,QAAhC;EACD;EACF,GAlBD,CAkBE,OAAO6J,GAAP,EAAY;EACZ;EACA,WAAO,KAAP;EACD;;EACD,SAAO,IAAP;EACD;EAED;EACA;EACA;;;EACA,SAAS7H,cAAT,CACE2H,OADF,EAEElJ,IAFF,EAGE;EACA,MAAI;EACF;EACA,QAAIkJ,OAAO,CAACC,iBAAZ,EAA+B;EAC7BD,MAAAA,OAAO,CAACC,iBAAR,WAAiCnJ,IAAjC;EACD,KAFD,MAEO;EACLkJ,MAAAA,OAAO,CAACnL,KAAR,CAAcwD,cAAd,CAA6BvB,IAA7B;EACD;EACF,GAPD,CAOE,OAAOoJ,GAAP,EAAY;EACZ,KAAAvK,OAAO,CACL,KADK,4BAEkBuK,GAAG,CAACE,OAFtB,kDAEwEtJ,IAFxE,SAAP;EAID;EACF;EAED;EACA;EACA;;;EACA,SAASsC,WAAT,CAAqB4G,OAArB,EAA4CvH,YAA5C,EAA2E;EACzEuH,EAAAA,OAAO,CAACvH,YAAR,GAAuBA,YAAvB,CADyE;EAIzE;;EACA,SAAOuH,OAAO,CAACvH,YAAR,KAAyBA,YAAhC;EACD;EAED;EACA;EACA;EACA;;;EACA,IAAM4H,OAAO,GAAGR,OAAO,CAAC;EAAA,SAAoBS,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAApB;EAAA,CAAD,CAAvB;EAEA;EACA;EACA;;EACA,SAASC,eAAT,CAAyBlC,QAAzB,EAAsDjJ,OAAtD,EAAmG;EACjG,OAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqI,QAAQ,CAACpI,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;EACxC,QAAM0B,KAAK,GAAG2G,QAAQ,CAACrI,CAAD,CAAtB;;EACA,QACE0B,KAAK,CAACY,QAAN,IACAZ,KAAK,CAACtC,OAAN,CAAcoB,KAAd,GAAsBpB,OAAO,CAACoB,KAD9B,IAEAkB,KAAK,CAACtC,OAAN,CAAcoL,cAAd,KAAiCpL,OAAO,CAACoL,cAH3C,EAIE;EACA,aAAO9I,KAAP;EACD;EACF;;EACD,SAAO,IAAP;EACD;EAED;EACA;EACA;;;EACA,SAAS+I,gBAAT,CACEpC,QADF,EAEEjJ,OAFF,EAGqB;EACnB,OAAK,IAAIY,CAAC,GAAGqI,QAAQ,CAACpI,MAAT,GAAkB,CAA/B,EAAkCD,CAAC,IAAI,CAAvC,EAA0CA,CAAC,EAA3C,EAA+C;EAC7C,QAAM0B,KAAK,GAAG2G,QAAQ,CAACrI,CAAD,CAAtB;;EACA,QAAI0B,KAAK,CAACY,QAAN,IAAkBZ,KAAK,CAACtC,OAAN,CAAcoL,cAAd,KAAiCpL,OAAO,CAACoL,cAA/D,EAA+E;EAC7E,aAAO9I,KAAP;EACD;EACF;;EACD,SAAO,IAAP;EACD;EAED;EACA;EACA;;;EACA,SAASgJ,eAAT,CAAyBC,IAAzB,EAAoD;EAClD,MAAMC,IAAI,GAAGR,OAAO,EAApB;;EACA,OAAK,IAAIpK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4K,IAAI,CAACC,UAAL,CAAgB5K,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;EAC/C,QAAM8K,IAAI,GAAGF,IAAI,CAACC,UAAL,CAAgB7K,CAAhB,CAAb;;EACA,QAAI8K,IAAI,CAACC,QAAL,KAAkB,CAAlB,IAAuBD,IAAI,CAACE,SAAL,CAAeC,IAAf,OAA0BN,IAArD,EAA2D;EACzD,aAAOG,IAAP;EACD;EACF;;EACD,SAAO,IAAP;EACD;;EAOD;EACA;EACA;EACA,SAASI,YAAT,CAAsB9L,OAAtB,EAAkE;EAAA,MACzDiJ,QADyD,GAC7C8C,MAD6C,CACzD9C,QADyD;;EAGhE,MAAIA,QAAQ,CAACpI,MAAT,GAAkB,CAAtB,EAAyB;EACvB;EACA,QAAIyB,KAAK,GAAG6I,eAAe,CAAClC,QAAD,EAAWjJ,OAAX,CAA3B;;EACA,QAAIsC,KAAK,IAAIA,KAAK,CAACF,QAAnB,EAA6B;EAC3B,aAAO;EACL6B,QAAAA,MAAM,EAAE3B,KAAK,CAACF,QAAN,CAAe4J,OAAf,CAAuBC,UAD1B;EAELP,QAAAA,IAAI,EAAEpJ,KAAK,CAACF,QAAN,CAAe4J;EAFhB,OAAP;EAID,KARsB;;;EAWvB1J,IAAAA,KAAK,GAAG+I,gBAAgB,CAACpC,QAAD,EAAWjJ,OAAX,CAAxB;;EACA,QAAIsC,KAAK,IAAIA,KAAK,CAACF,QAAnB,EAA6B;EAC3B,aAAO;EACL6B,QAAAA,MAAM,EAAE3B,KAAK,CAACF,QAAN,CAAe4J,OAAf,CAAuBC,UAD1B;EAELP,QAAAA,IAAI,EAAEpJ,KAAK,CAACF,QAAN,CAAe4J,OAAf,CAAuBE;EAFxB,OAAP;EAID;EACF,GArB+D;;;EAAA,MAwBzDd,cAxByD,GAwBvCpL,OAxBuC,CAwBzDoL,cAxByD;;EAyBhE,MAAIA,cAAc,IAAI,OAAOA,cAAP,KAA0B,QAAhD,EAA0D;EACxD,QAAMe,OAAO,GAAGb,eAAe,CAACF,cAAD,CAA/B;;EACA,QAAIe,OAAJ,EAAa;EACX,aAAO;EACLlI,QAAAA,MAAM,EAAEkI,OAAO,CAACF,UADX;EAELP,QAAAA,IAAI,EAAES,OAAO,CAACD;EAFT,OAAP;EAID,KAPuD;EAUxD;;;EACA,KAAA5L,OAAO,CAAC,KAAD,+BAAkC8K,cAAlC,mBAAP;EACD;;EAED,SAAO,KAAP;EACD;EAED;EACA;EACA;;;EACA,SAASgB,WAAT,CAAqB5M,KAArB,EAAyCQ,OAAzC,EAAmE;EAAA,MAC1DoL,cAD0D,GACxCpL,OADwC,CAC1DoL,cAD0D;EAEjE,MAAMiB,QAAQ,GAAGP,YAAY,CAAC9L,OAAD,CAA7B;;EAEA,MAAIqM,QAAQ,KAAK,KAAb,IAAsBA,QAAQ,CAACpI,MAAnC,EAA2C;EACzCoI,IAAAA,QAAQ,CAACpI,MAAT,CAAgBqI,YAAhB,CAA6B9M,KAA7B,EAAoC6M,QAAQ,CAACX,IAA7C;EAEA;EACD,GARgE;;;EAWjE,MAAIN,cAAc,IAAI,OAAOA,cAAc,CAACO,QAAtB,KAAmC,QAAzD,EAAmE;EACjE;EACA,QAAMY,qBAAkC,GAAInB,cAA5C;EAFiE,QAG1Da,UAH0D,GAG5CM,qBAH4C,CAG1DN,UAH0D;EAIjE,QAAIA,UAAJ,EAAgBA,UAAU,CAACK,YAAX,CAAwB9M,KAAxB,EAA+B+M,qBAAqB,CAACL,WAArD,EAAhB,KACK,CAAA5L,OAAO,CAAC,KAAD,EAAQ,0CAAR,CAAP;EACL;EACD;;EAED0K,EAAAA,OAAO,GAAGwB,WAAV,CAAsBhN,KAAtB;EACD;EAED;EACA;EACA;;;EACA,IAAMiN,QAAQ,GAAGjC,OAAO,CACtB,YAAe;EACb,MAAMkB,IAAI,GAAGT,QAAQ,CAACC,aAAT,CAAuB,4BAAvB,CAAb;EACA,SAAOQ,IAAI,GAAGA,IAAI,CAACgB,YAAL,CAAkB,SAAlB,CAAH,GAAkC,IAA7C;EACD,CAJqB,CAAxB;;EAOA,IAAMhE,WAAU,GAAG,SAAbA,UAAa,CACjBiE,SADiB,EAEjBxM,IAFiB,EAGjBiB,KAHiB,EAID;EAChB,MAAMwL,QAAQ,GAAGD,SAAS,CAACE,QAAV,CAAmBhM,MAApC,CADgB;;EAGhB,MAAIO,KAAK,KAAKoB,SAAV,IAAuBpB,KAAK,GAAGwL,QAAnC,EAA6C;EAC3C;EACAxL,IAAAA,KAAK,GAAGwL,QAAR;EACD;;EAED,MAAI;EACF,QAAI,gBAAgBD,SAApB,EAA+B;EAC7B,UAAMG,CAAC,GAAKH,SAAZ;EACAG,MAAAA,CAAC,CAACpE,UAAF,CAAavI,IAAb,EAAmBiB,KAAnB;EACD,KAHD;EAAA,SAKK,IAAI,gBAAgBuL,SAApB,EAA+B;EAClC,YAAMG,EAAC,GAAKH,SAAZ;;EACAG,QAAAA,EAAC,CAACC,UAAF,CAAa5M,IAAb;EACD;EACF,GAVD,CAUE,OAAO0K,GAAP,EAAY;EACZ,KAAAvK,OAAO,CAAC,KAAD,aAAiBuK,GAAG,CAACE,OAArB,CAAP;EACA,WAAO,KAAP;EACD;;EACD,SAAO4B,SAAS,CAACE,QAAV,CAAmBzL,KAAnB,CAAP;EACD,CA3BD;;EA6BA,IAAM4L,WAAW,GAAG,SAAdA,WAAc,GAAmB;EACrC,MAAMC,EAAE,GAAGhC,QAAQ,CAACiC,aAAT,CAAuB,OAAvB,CAAX,CADqC;EAGrC;EACA;;EACAD,EAAAA,EAAE,CAACE,WAAH,GAAiB,IAAjB;EACA,SAAOF,EAAP;EACD,CAPD;;MASqBG;EASnB;EAOA,uBAAY9K,KAAZ,EAAgC;EAAA,SAfhCoI,gBAegC,GAfbA,gBAea;EAAA,SAbhCzH,WAagC,GAblBA,WAakB;EAAA,SAXhCD,cAWgC,GAXfA,cAWe;EAAA,SAThCe,WASgC,GATlBA,WASkB;EAAA,SANhCiI,OAMgC;EAAA,SAJhC1J,KAIgC;EAAA,SAFhC+K,gBAEgC,GAFJ,KAEI;EAC9B;EACA,QAAI/K,KAAJ,EAAWyJ,MAAM,CAAClH,GAAP,CAAWvC,KAAX;EAEX,SAAKA,KAAL,GAAaA,KAAb;;EAJ8B,eAKC,KAAKA,KAAL,GAAa,KAAKA,KAAL,CAAWtC,OAAxB,GAAkC,EALnC;EAAA,QAKvBsN,KALuB,QAKvBA,KALuB;EAAA,QAKhBC,IALgB,QAKhBA,IALgB;EAAA,QAKVvB,OALU,QAKVA,OALU;;EAM9B,SAAKA,OAAL,GAAeA,OAAO,IAAIgB,WAAW,EAArC;EACA,SAAKhB,OAAL,CAAawB,YAAb,CAA0B,UAA1B,EAAsC,EAAtC;EACA,QAAIF,KAAJ,EAAW,KAAKtB,OAAL,CAAawB,YAAb,CAA0B,OAA1B,EAAmCF,KAAnC;EACX,QAAIC,IAAJ,EAAU,KAAKvB,OAAL,CAAawB,YAAb,CAA0B,WAA1B,EAAuCD,IAAvC;EACV,QAAME,KAAK,GAAGhB,QAAQ,EAAtB;EACA,QAAIgB,KAAJ,EAAW,KAAKzB,OAAL,CAAawB,YAAb,CAA0B,OAA1B,EAAmCC,KAAnC;EACZ;EAED;EACF;EACA;;;;;WACEnF,SAAA,kBAAe;EACb;EACA,QAAI,KAAK0D,OAAL,CAAaC,UAAb,IAA2B,CAAC,KAAK3J,KAArC,EAA4C;EAE5C8J,IAAAA,WAAW,CAAC,KAAKJ,OAAN,EAAe,KAAK1J,KAAL,CAAWtC,OAA1B,CAAX,CAJa;EAOb;;EACA,QAAMoI,QAAQ,GAAGsF,OAAO,CAAC,KAAKpL,KAAL,IAAc,KAAKA,KAAL,CAAW8F,QAA1B,CAAxB;;EACA,QAAI,KAAKiF,gBAAL,IAAyBjF,QAA7B,EAAuC;EACrC,WAAKiF,gBAAL,GAAwB,KAAxB;EACA,WAAK9E,MAAL;EACD;EACF;EAED;EACF;EACA;;;WACEC,SAAA,kBAAe;EAAA,QACNyD,UADM,GACQ,KAAKD,OADb,CACNC,UADM;EAEb,QAAIA,UAAJ,EAAgBA,UAAU,CAAC0B,WAAX,CAAuB,KAAK3B,OAA5B;EACjB;EAED;EACF;EACA;;;WACEzD,SAAA,kBAAe;EAAA,QACNjG,KADM,GACG,IADH,CACNA,KADM;EAEb,QAAI,CAACA,KAAL,EAAY;;EACZ,QAAIA,KAAK,CAACtC,OAAN,CAAc4D,IAAlB,EAAwB;EACtB,WAAKgK,WAAL,CAAiBtL,KAAK,CAACmC,KAAvB;EACA;EACD;;EACD,SAAKuH,OAAL,CAAamB,WAAb,UAAgC7K,KAAK,CAACqB,QAAN,EAAhC;EACD;EAED;EACF;EACA;;;WAEEiK,cAAA,qBAAYnJ,KAAZ,EAA6BoJ,YAA7B,EAA6F;EAC3F,SAAK,IAAIjN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6D,KAAK,CAACrD,KAAN,CAAYP,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;EAC3C,WAAK8H,UAAL,CAAgBjE,KAAK,CAACrD,KAAN,CAAYR,CAAZ,CAAhB,EAAgCA,CAAhC,EAAmCiN,YAAnC;EACD;EACF;EAED;EACF;EACA;;;WACEnF,aAAA,oBACEvI,IADF,EAEEiB,KAFF,EAGEyM,YAHF,EAIsC;EAAA,QADpCA,YACoC;EADpCA,MAAAA,YACoC,GAD6B,KAAK7B,OAAL,CAAa1J,KAC1C;EAAA;;EACpC,QAAInC,IAAI,CAACsE,KAAT,EAAgB;EACd,UAAMR,MAAqB,GAAI9D,IAA/B;EACA,UAAI2N,kBAAkB,GAAGD,YAAzB;;EACA,UAAI1N,IAAI,CAAC+B,IAAL,KAAc,aAAd,IAA+B/B,IAAI,CAAC+B,IAAL,KAAc,WAAjD,EAA8D;EAC5D;EACA4L,QAAAA,kBAAkB,GAAGpF,WAAU,CAACmF,YAAD,EAAe5J,MAAM,CAACN,QAAP,CAAgB;EAACQ,UAAAA,QAAQ,EAAE;EAAX,SAAhB,CAAf,EAAmD/C,KAAnD,CAA/B;;EACA,YAAI0M,kBAAkB,KAAK,KAA3B,EAAkC;EAChC,iBAAO,KAAP;EACD;EACF;;EACD,WAAKF,WAAL,CAAiB3J,MAAM,CAACQ,KAAxB,EAA+BqJ,kBAA/B;EACA,aAAOA,kBAAP;EACD,KAbmC;EAgBpC;EACA;;;EACA,QAAI3N,IAAI,CAACkC,UAAL,IAAmBlC,IAAI,CAACkC,UAAL,CAAgB0L,gBAAhB,KAAqC,KAAK/B,OAAL,CAAa1J,KAAzE,EAAgF;EAC9E,aAAOnC,IAAI,CAACkC,UAAZ;EACD;;EAED,QAAM2L,OAAO,GAAG7N,IAAI,CAACwD,QAAL,EAAhB;EAEA,QAAI,CAACqK,OAAL,EAAc,OAAO,KAAP;;EAEd,QAAMC,UAAU,GAAGvF,WAAU,CAACmF,YAAD,EAAeG,OAAf,EAAwB5M,KAAxB,CAA7B;;EACA,QAAI6M,UAAU,KAAK,KAAnB,EAA0B;EACxB,aAAO,KAAP;EACD;;EAED,SAAKZ,gBAAL,GAAwB,IAAxB;EACAlN,IAAAA,IAAI,CAACkC,UAAL,GAAkB4L,UAAlB;EACA,WAAOA,UAAP;EACD;EAED;EACF;EACA;;;WACEpF,aAAA,oBAAW8B,OAAX,EAAyC;EAAA,QAChCrI,KADgC,GACvB,KAAK0J,OADkB,CAChC1J,KADgC;EAEvC,QAAMlB,KAAK,GAAG,KAAK4D,OAAL,CAAa2F,OAAb,CAAd;EACA,QAAIvJ,KAAK,KAAK,CAAC,CAAf,EAAkB,OAAO,KAAP;EAClBkB,IAAAA,KAAK,CAACuG,UAAN,CAAiBzH,KAAjB;EACA,WAAO,IAAP;EACD;EAED;EACF;EACA;;;WACE4D,UAAA,iBAAQ2F,OAAR,EAAqC;EAAA,QAC5BkC,QAD4B,GAChB,KAAKb,OAAL,CAAa1J,KADG,CAC5BuK,QAD4B;;EAEnC,SAAK,IAAIzL,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGyL,QAAQ,CAAChM,MAArC,EAA6CO,KAAK,EAAlD,EAAsD;EACpD,UAAIuJ,OAAO,KAAKkC,QAAQ,CAACzL,KAAD,CAAxB,EAAiC,OAAOA,KAAP;EAClC;;EACD,WAAO,CAAC,CAAR;EACD;EAED;EACF;EACA;EACA;EACA;;;WACE4C,cAAA,qBAAY2G,OAAZ,EAAiCxK,IAAjC,EAAiF;EAC/E,QAAMiB,KAAK,GAAG,KAAK4D,OAAL,CAAa2F,OAAb,CAAd;EACA,QAAIvJ,KAAK,KAAK,CAAC,CAAf,EAAkB,OAAO,KAAP;EAClB,SAAK4K,OAAL,CAAa1J,KAAb,CAAmBuG,UAAnB,CAA8BzH,KAA9B;EACA,WAAO,KAAKsH,UAAL,CAAgBvI,IAAhB,EAAsBiB,KAAtB,CAAP;EACD;EAED;EACF;EACA;;;WACE8M,WAAA,oBAAwB;EACtB,WAAO,KAAKlC,OAAL,CAAa1J,KAAb,CAAmBuK,QAA1B;EACD;;;;;ECrbH,IAAIsB,eAAe,GAAG,CAAtB;;MAEqBC;EAgBnB,eAAYpO,OAAZ,EAAkC;EAAA,SAflCqD,EAekC,GAf7B8K,eAAe,EAec;EAAA,SAblCE,OAakC,GAbxB1L,QAawB;EAAA,SAXlCvC,OAWkC,GAXxB,IAAI0I,eAAJ,EAWwB;EAAA,SATlC9I,OASkC,GATJ;EAC5BqD,MAAAA,EAAE,EAAE;EAACiH,QAAAA,MAAM,EAAE;EAAT,OADwB;EAE5BN,MAAAA,gBAAgB,EAAEsE,gBAFU;EAG5B/L,MAAAA,QAAQ,EAAEgM,SAAW,GAAGnB,WAAH,GAAiB,IAHV;EAI5BhN,MAAAA,OAAO,EAAE;EAJmB,KASI;EAAA,SAFlCmD,UAEkC,GAFT+K,gBAAuB,CAAC;EAAChE,MAAAA,MAAM,EAAE;EAAT,KAAD,CAEd;;EAChC,SAAK,IAAI1J,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4N,OAAe,CAAC3N,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;EAC/C,WAAKR,OAAL,CAAagJ,GAAb,CAAiBoF,OAAe,CAAC5N,CAAD,CAAhC,EAAqC;EAACyH,QAAAA,KAAK,EAAE;EAAR,OAArC;EACD;;EACD,SAAKoG,KAAL,CAAWzO,OAAX;EACD;EAED;EACF;EACA;EACA;EACA;;;;;WACEyO,QAAA,eAAMzO,OAAN,EAAuC;EAAA,QAAjCA,OAAiC;EAAjCA,MAAAA,OAAiC,GAAV,EAAU;EAAA;;EACrC,QAAIA,OAAO,CAACgK,gBAAZ,EAA8B;EAC5B,WAAKhK,OAAL,CAAagK,gBAAb,GAAgChK,OAAO,CAACgK,gBAAxC;EACD;;EAED,QAAIhK,OAAO,CAACqD,EAAZ,EAAgB;EACd,WAAKrD,OAAL,CAAaqD,EAAb,gBACK,KAAKrD,OAAL,CAAaqD,EADlB,EAEKrD,OAAO,CAACqD,EAFb;EAID;;EAED,QAAIrD,OAAO,CAACgK,gBAAR,IAA4BhK,OAAO,CAACqD,EAAxC,EAA4C;EAC1C,WAAKE,UAAL,GAAkB,KAAKvD,OAAL,CAAagK,gBAAb,CAA8B,KAAKhK,OAAL,CAAaqD,EAA3C,CAAlB;EACD;;EAED,QAAIrD,OAAO,CAACoL,cAAR,IAA0B,IAA9B,EAAoC,KAAKpL,OAAL,CAAaoL,cAAb,GAA8BpL,OAAO,CAACoL,cAAtC;;EACpC,QAAI,cAAcpL,OAAlB,EAA2B;EACzB,WAAKA,OAAL,CAAauC,QAAb,GAAwBvC,OAAO,CAACuC,QAAhC;EACD,KAnBoC;;;EAsBrC,QAAIvC,OAAO,CAACI,OAAZ,EAAqB,KAAKgJ,GAAL,CAASsF,KAAT,CAAe,IAAf,EAAqB1O,OAAO,CAACI,OAA7B;EAErB,WAAO,IAAP;EACD;EAED;EACF;EACA;;;WACEuO,mBAAA,0BAAiBrK,MAAjB,EAAiCtE,OAAjC,EAAqF;EAAA,QAApDA,OAAoD;EAApDA,MAAAA,OAAoD,GAAhB,EAAgB;EAAA;;EAAA,mBACrEA,OADqE;EAAA,QAC9EoB,KAD8E,YAC9EA,KAD8E;;EAEnF,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;EAC7BA,MAAAA,KAAK,GAAG2K,MAAM,CAAC3K,KAAP,KAAiB,CAAjB,GAAqB,CAArB,GAAyB2K,MAAM,CAAC3K,KAAP,GAAe,CAAhD;EACD;;EACD,QAAMkB,KAAK,GAAG,IAAI6F,UAAJ,CAAe7D,MAAf,eACTtE,OADS;EAEZC,MAAAA,GAAG,EAAE,IAFO;EAGZsD,MAAAA,UAAU,EAAEvD,OAAO,CAACuD,UAAR,IAAsB,KAAKA,UAH3B;EAIZ6H,MAAAA,cAAc,EAAE,KAAKpL,OAAL,CAAaoL,cAJjB;EAKZ7I,MAAAA,QAAQ,EAAE,KAAKvC,OAAL,CAAauC,QALX;EAMZnB,MAAAA,KAAK,EAALA;EANY,OAAd;EAQA,SAAKhB,OAAL,CAAa8I,cAAb,CAA4B5G,KAA5B;EAEA,WAAOA,KAAP;EACD;EAED;EACF;EACA;;;WACEsM,mBAAA,0BAAiBtM,KAAjB,EAA0C;EACxCA,IAAAA,KAAK,CAACkG,MAAN;EACAuD,IAAAA,MAAM,CAAChJ,MAAP,CAAcT,KAAd;EACA,WAAO,IAAP;EACD;EAED;EACF;EACA;EACA;;;WACExC,aAAA,sBAAWD,IAAX,EAA0BL,KAA1B,EAAiDQ,OAAjD,EAAiG;EAAA,QAAvER,KAAuE;EAAvEA,MAAAA,KAAuE,GAApD,EAAoD;EAAA;;EAAA,QAAhDQ,OAAgD;EAAhDA,MAAAA,OAAgD,GAAjB,EAAiB;EAAA;;EAC/F;EACA,QAAI,OAAOH,IAAP,KAAgB,QAApB,EAA8B;EAC5B,aAAO,KAAKC,UAAL,CAAgB0C,SAAhB,EAA2B3C,IAA3B,EAAiCL,KAAjC,CAAP;EACD;;EAED,QAAM4H,WAAwB,gBAAOpH,OAAP;EAAgBH,MAAAA,IAAI,EAAJA,IAAhB;EAAsBI,MAAAA,GAAG,EAAE,IAA3B;EAAiCsC,MAAAA,QAAQ,EAAE,KAAKvC,OAAL,CAAauC;EAAxD,MAA9B;;EAEA,QAAI,CAAC6E,WAAW,CAAC7D,UAAjB,EAA6B6D,WAAW,CAAC7D,UAAZ,GAAyB,KAAKA,UAA9B;EAC7B,QAAI,CAAC6D,WAAW,CAACD,OAAjB,EAA0BC,WAAW,CAACD,OAAZ,GAAsB,EAAtB;EAC1B,QAAI,CAACC,WAAW,CAACtB,SAAjB,EAA4BsB,WAAW,CAACtB,SAAZ,GAAwB,EAAxB;;EAE5B,QAAM3F,IAAI,GAAGL,UAAU,CAACD,IAAD,EAAOL,KAAP,EAAc4H,WAAd,CAAvB;;EAEA,QAAIjH,IAAJ,EAAU,KAAKC,OAAL,CAAa+E,aAAb,CAA2BhF,IAA3B;EAEV,WAAOA,IAAP;EACD;EAED;EACF;EACA;;;WACEiJ,MAAA,eAAqC;EAAA;;EAAA,sCAA9BhJ,OAA8B;EAA9BA,MAAAA,OAA8B;EAAA;;EACnCA,IAAAA,OAAO,CAACsH,OAAR,CAAgB,UAAAzB,MAAM,EAAI;EACxB,MAAA,KAAI,CAAC7F,OAAL,CAAagJ,GAAb,CAAiBnD,MAAjB;EACD,KAFD;EAIA,WAAO,IAAP;EACD;;;;;EC5IH;EACA;EACA;AACA,EAAe,SAAS4I,gBAAT,CAA0BvK,MAA1B,EAAyD;EACtE,MAAIwK,EAAE,GAAG,IAAT;;EAEA,OAAK,IAAM7M,GAAX,IAAkBqC,MAAlB,EAA0B;EACxB,QAAM7D,KAAK,GAAG6D,MAAM,CAACrC,GAAD,CAApB;EACA,QAAMC,IAAI,GAAG,OAAOzB,KAApB;;EAEA,QAAIyB,IAAI,KAAK,UAAb,EAAyB;EACvB,UAAI,CAAC4M,EAAL,EAASA,EAAE,GAAG,EAAL;EACTA,MAAAA,EAAE,CAAC7M,GAAD,CAAF,GAAUxB,KAAV;EACD,KAHD,MAGO,IAAIyB,IAAI,KAAK,QAAT,IAAqBzB,KAAK,KAAK,IAA/B,IAAuC,CAAChB,KAAK,CAACC,OAAN,CAAce,KAAd,CAA5C,EAAkE;EACvE,UAAMsO,SAAS,GAAGF,gBAAgB,CAACpO,KAAD,CAAlC;;EACA,UAAIsO,SAAJ,EAAe;EACb,YAAI,CAACD,EAAL,EAASA,EAAE,GAAG,EAAL;EACTA,QAAAA,EAAE,CAAC7M,GAAD,CAAF,GAAU8M,SAAV;EACD;EACF;EACF;;EAED,SAAOD,EAAP;EACD;;ECnBD;EACA;EACA;EACA;MACqBE;;WACnBnO,SAAS;WAETkL,SAAS,IAAIkD,OAAJ;;;;;WAYTlK,MAAA,aAAI9C,GAAJ,EAA8B;EAC5B,QAAMiN,KAAK,GAAG,KAAKnD,MAAL,CAAYhH,GAAZ,CAAgB9C,GAAhB,CAAd;EACA,WAAOiN,KAAK,IAAIA,KAAK,CAAC5M,KAAtB;EACD;;WAEDuC,MAAA,aAAI5C,GAAJ,EAAiBK,KAAjB,EAAoC;EAClC,QAAI,KAAKyJ,MAAL,CAAYoD,GAAZ,CAAgBlN,GAAhB,CAAJ,EAA0B;EAE1B,SAAKpB,MAAL;EAEA,SAAKkL,MAAL,CAAYjB,GAAZ,CAAgB7I,GAAhB,EAAqB;EACnBK,MAAAA,KAAK,EAALA,KADmB;EAEnB8M,MAAAA,IAAI,EAAE;EAFa,KAArB;EAID;;WAEDC,SAAA,gBAAOpN,GAAP,EAAiC;EAC/B,QAAMiN,KAAK,GAAG,KAAKnD,MAAL,CAAYhH,GAAZ,CAAgB9C,GAAhB,CAAd;;EAEA,QAAIiN,KAAJ,EAAW;EACT,UAAIA,KAAK,CAACE,IAAN,KAAe,CAAnB,EAAsB;EACpBF,QAAAA,KAAK,CAAC5M,KAAN,CAAYgG,MAAZ;EACD;;EAED4G,MAAAA,KAAK,CAACE,IAAN;EAEA,aAAOF,KAAK,CAAC5M,KAAb;EACD;;EAEDgN,IAAAA,OAAI,CAAC,KAAD,EAAQ,iDAAR,CAAJ;EAEA,WAAO9M,SAAP;EACD;;WAED+M,WAAA,kBAAStN,GAAT,EAAsB;EACpB,QAAMiN,KAAK,GAAG,KAAKnD,MAAL,CAAYhH,GAAZ,CAAgB9C,GAAhB,CAAd;;EAEA,QAAIiN,KAAJ,EAAW;EACT,UAAIA,KAAK,CAACE,IAAN,GAAa,CAAjB,EAAoB;EAClBF,QAAAA,KAAK,CAACE,IAAN;EAEA,YAAIF,KAAK,CAACE,IAAN,KAAe,CAAnB,EAAsBF,KAAK,CAAC5M,KAAN,CAAYkG,MAAZ;EACvB;EACF,KAND,MAMO;EACL8G,MAAAA,OAAI,CAAC,KAAD,EAAQ,6CAAR,CAAJ;EACD;EACF;;;;WAlDD,eAAmB;EACjB,aAAO,KAAKzO,MAAZ;EACD;;;;;;ECpBH;EACA;EACA;EACA;EACA;EACA;EACA;AACA;EA2CA;EACA;EACA;EACA;AACA,MAAa2O,gBAAgB,GAAG,OAAO3N,GAAP,KAAe,WAAf,IAA8BA,GAA9B,IAAqC,YAAYA,GAA1E;AAEP,EAwCA;EACA;EACA;;AACA,MAAa4N,MAAM,GAAG,SAATA,MAAS,CAACzP,OAAD;EAAA,SAA+B,IAAIoO,GAAJ,CAAQpO,OAAR,CAA/B;EAAA,CAAf;EAEP;EACA;EACA;;AACA,cAAeyP,MAAM,EAArB;;;;;;;;;;;;;;;;;;;;;;"}